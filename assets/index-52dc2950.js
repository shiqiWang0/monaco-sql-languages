import{b3 as d,l as y,b1 as b}from"./index-d3ae3cf9.js";import{u as j}from"./useMonaco-2e7d4d8e.js";function C({className:g,style:l,instance:e,options:c={},model:i,language:E,override:D,value:f,onMount:p,onModelMount:m}){const s=d.useRef(null),x=j();function a(){const r=document.createElement("div");return r.style.setProperty("position","relative"),r.style.setProperty("width","100%"),r.style.setProperty("height","100%"),r}return d.useEffect(()=>{if(!s.current)return;const r=e==null?void 0:e.getDomNode();if(r){if(s.current.firstChild===r)return;s.current.innerHTML="",s.current.appendChild(r)}else{const o=a(),t=x.createDiffEditor(o,{...c,readOnly:!0},D);p==null||p(t)}},[e]),d.useEffect(()=>{e&&e.updateOptions(c)},[c]),d.useEffect(()=>{var r,o;if(e)if(!i||(r=i.original)!=null&&r.isDisposed()||(o=i.modified)!=null&&o.isDisposed()){const t=y.createModel((f==null?void 0:f[0])||"",E),P=y.createModel((f==null?void 0:f[1])||"",E),h={original:t,modified:P};e.setModel(h),m==null||m(h)}else{const t=e.getModel();if(i.original===(t==null?void 0:t.original)&&i.modified===(t==null?void 0:t.modified))return;e.setModel(i)}},[i,e]),b.jsx("div",{ref:s,className:g,style:{height:"100%",width:"100%",...l}})}export{C as default};
