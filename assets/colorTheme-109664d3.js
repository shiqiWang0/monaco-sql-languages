var at=Object.defineProperty;var ct=(V,f,A)=>f in V?at(V,f,{enumerable:!0,configurable:!0,writable:!0,value:A}):V[f]=A;var me=(V,f,A)=>(ct(V,typeof f!="symbol"?f+"":f,A),A);import{h as b,c as it,T as ht,j as lt,B as ut,p as gt,o as Xe,n as qe,k as dt,l as Je,q as pt,r as ft,f as kt,s as Ze,t as mt,u as Ct,_ as _t}from"./index-3dac6dbc.js";function F(V,f){return{op:2,value:V,factor:f}}function Se(V,f){return{op:1,value:V,factor:f}}function Ae(V,f){return{op:0,value:V,factor:f}}function et(...V){return{op:4,values:V}}function tt(V,f,A,P){return{op:5,value:V,background:f,factor:A,transparency:P}}function bt(V,f,A){return{op:6,if:V,then:f,else:A}}class Dt{constructor(){me(this,"colors",new Map);me(this,"registerColor",(f,A)=>(this.colors.set(f,A),f));this.registerColor("workbenchBackground",{dark:"#f3f3f3",light:"#252526",hcDark:"#000000",hcLight:"#ffffff"});const f=this.registerColor("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"});this.registerColor("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"});const A=this.registerColor("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"});this.registerColor("descriptionForeground",{light:"#717171",dark:F(f,.7),hcDark:F(f,.7),hcLight:F(f,.7)});const P=this.registerColor("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"}),I=this.registerColor("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"}),t=this.registerColor("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"}),y=this.registerColor("contrastActiveBorder",{light:null,dark:null,hcDark:I,hcLight:I});this.registerColor("selection.background",{light:null,dark:null,hcDark:null,hcLight:null}),this.registerColor("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:b.black,hcLight:"#292929"});const C=this.registerColor("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"});this.registerColor("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"}),this.registerColor("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"}),this.registerColor("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"}),this.registerColor("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:b.white,hcLight:"#292929"}),this.registerColor("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:b.black,hcLight:"#F2F2F2"});const E=this.registerColor("widget.shadow",{dark:F(b.black,.36),light:F(b.black,.16),hcDark:null,hcLight:null}),a=this.registerColor("widget.border",{dark:null,light:null,hcDark:t,hcLight:t});this.registerColor("input.background",{dark:"#3C3C3C",light:b.white,hcDark:b.black,hcLight:b.white}),this.registerColor("input.foreground",{dark:f,light:f,hcDark:f,hcLight:f});const v=this.registerColor("input.border",{dark:null,light:null,hcDark:t,hcLight:t});this.registerColor("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:t,hcLight:t}),this.registerColor("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null}),this.registerColor("inputOption.activeBackground",{dark:F(I,.4),light:F(I,.2),hcDark:b.transparent,hcLight:b.transparent}),this.registerColor("inputOption.activeForeground",{dark:b.white,light:b.black,hcDark:f,hcLight:f}),this.registerColor("input.placeholderForeground",{light:F(f,.5),dark:F(f,.5),hcDark:F(f,.7),hcLight:F(f,.7)}),this.registerColor("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:b.black,hcLight:b.white}),this.registerColor("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:f}),this.registerColor("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:t,hcLight:t}),this.registerColor("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:b.black,hcLight:b.white}),this.registerColor("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:f}),this.registerColor("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:t,hcLight:t}),this.registerColor("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:b.black,hcLight:b.white}),this.registerColor("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:f}),this.registerColor("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:t,hcLight:t});const u=this.registerColor("dropdown.background",{dark:"#3C3C3C",light:b.white,hcDark:b.black,hcLight:b.white});this.registerColor("dropdown.listBackground",{dark:null,light:null,hcDark:b.black,hcLight:b.white});const k=this.registerColor("dropdown.foreground",{dark:"#F0F0F0",light:f,hcDark:b.white,hcLight:f}),O=this.registerColor("dropdown.border",{dark:u,light:"#CECECE",hcDark:t,hcLight:t}),m=this.registerColor("button.foreground",{dark:b.white,light:b.white,hcDark:b.white,hcLight:b.white});this.registerColor("button.separator",{dark:F(m,.4),light:F(m,.4),hcDark:F(m,.4),hcLight:F(m,.4)});const B=this.registerColor("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"});this.registerColor("button.hoverBackground",{dark:Se(B,.2),light:Ae(B,.2),hcDark:B,hcLight:B}),this.registerColor("button.border",{dark:t,light:t,hcDark:t,hcLight:t}),this.registerColor("button.secondaryForeground",{dark:b.white,light:b.white,hcDark:b.white,hcLight:f});const S=this.registerColor("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:b.white});this.registerColor("button.secondaryHoverBackground",{dark:Se(S,.2),light:Ae(S,.2),hcDark:null,hcLight:null});const l=this.registerColor("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:b.black,hcLight:"#0F4A85"});this.registerColor("badge.foreground",{dark:b.white,light:"#333",hcDark:b.white,hcLight:b.white}),this.registerColor("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null});const D=this.registerColor("scrollbarSlider.background",{dark:b.fromHex("#797979").transparent(.4),light:b.fromHex("#646464").transparent(.4),hcDark:F(t,.6),hcLight:F(t,.4)}),h=this.registerColor("scrollbarSlider.hoverBackground",{dark:b.fromHex("#646464").transparent(.7),light:b.fromHex("#646464").transparent(.7),hcDark:F(t,.8),hcLight:F(t,.8)}),p=this.registerColor("scrollbarSlider.activeBackground",{dark:b.fromHex("#BFBFBF").transparent(.4),light:b.fromHex("#000000").transparent(.6),hcDark:t,hcLight:t});this.registerColor("progressBar.background",{dark:b.fromHex("#0E70C0"),light:b.fromHex("#0E70C0"),hcDark:t,hcLight:t}),this.registerColor("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null});const n=this.registerColor("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"});this.registerColor("editorError.border",{dark:null,light:null,hcDark:b.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"}),this.registerColor("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null});const e=this.registerColor("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"}),i=this.registerColor("editorWarning.border",{dark:null,light:null,hcDark:b.fromHex("#FFCC00").transparent(.8),hcLight:b.fromHex("#FFCC00").transparent(.8)});this.registerColor("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null});const s=this.registerColor("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"}),r=this.registerColor("editorInfo.border",{dark:null,light:null,hcDark:b.fromHex("#3794FF").transparent(.8),hcLight:"#292929"});this.registerColor("editorHint.foreground",{dark:b.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null}),this.registerColor("editorHint.border",{dark:null,light:null,hcDark:b.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"}),this.registerColor("sash.hoverBorder",{dark:I,light:I,hcDark:I,hcLight:I});const o=this.registerColor("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:b.black,hcLight:b.white}),c=this.registerColor("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:b.white,hcLight:f});this.registerColor("editorStickyScroll.background",{light:o,dark:o,hcDark:o,hcLight:o}),this.registerColor("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:b.fromHex("#0F4A85").transparent(.1)});const d=this.registerColor("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:b.white}),_=this.registerColor("editorWidget.foreground",{dark:f,light:f,hcDark:f,hcLight:f}),x=this.registerColor("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:t,hcLight:t});this.registerColor("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null}),this.registerColor("quickInput.background",{dark:d,light:d,hcDark:d,hcLight:d}),this.registerColor("quickInput.foreground",{dark:_,light:_,hcDark:_,hcLight:_}),this.registerColor("quickInputTitle.background",{dark:"#ffffff1b",light:"#0000000f",hcDark:"#000000",hcLight:b.white}),this.registerColor("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:b.white,hcLight:"#0F4A85"}),this.registerColor("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:b.white,hcLight:"#0F4A85"}),this.registerColor("keybindingLabel.background",{dark:"#8080802b",light:"#dddddd66",hcDark:b.transparent,hcLight:b.transparent}),this.registerColor("keybindingLabel.foreground",{dark:b.fromHex("#CCCCCC"),light:b.fromHex("#555555"),hcDark:b.white,hcLight:f}),this.registerColor("keybindingLabel.border",{dark:"#33333399",light:"#cccccc66",hcDark:"#6fc3df",hcLight:t}),this.registerColor("keybindingLabel.bottomBorder",{dark:"#44444499",light:"#bbbbbb66",hcDark:"#6fc3df",hcLight:f});const N=this.registerColor("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"});this.registerColor("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:b.white}),this.registerColor("editor.inactiveSelectionBackground",{light:F(N,.5),dark:F(N,.5),hcDark:F(N,.7),hcLight:F(N,.5)}),this.registerColor("editor.selectionHighlightBackground",{light:tt(N,o,.3,.6),dark:tt(N,o,.3,.6),hcDark:null,hcLight:null}),this.registerColor("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:y,hcLight:y}),this.registerColor("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null});const H=this.registerColor("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null});this.registerColor("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null}),this.registerColor("editor.findMatchBorder",{light:null,dark:null,hcDark:y,hcLight:y});const K=this.registerColor("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:y,hcLight:y});this.registerColor("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:F(y,.4),hcLight:F(y,.4)}),this.registerColor("searchEditor.findMatchBackground",{light:F(H,.66),dark:F(H,.66),hcDark:H,hcLight:H}),this.registerColor("searchEditor.findMatchBorder",{light:F(K,.66),dark:F(K,.66),hcDark:K,hcLight:K}),this.registerColor("search.resultsInfoForeground",{light:f,dark:F(f,.65),hcDark:f,hcLight:f}),this.registerColor("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null});const Z=this.registerColor("editorHoverWidget.background",{light:d,dark:d,hcDark:d,hcLight:d});this.registerColor("editorHoverWidget.foreground",{light:_,dark:_,hcDark:_,hcLight:_}),this.registerColor("editorHoverWidget.border",{light:x,dark:x,hcDark:x,hcLight:x}),this.registerColor("editorHoverWidget.statusBarBackground",{dark:Se(Z,.2),light:Ae(Z,.05),hcDark:d,hcLight:d}),this.registerColor("editorLink.activeForeground",{dark:"#4E94CE",light:b.blue,hcDark:b.cyan,hcLight:"#292929"});const j=this.registerColor("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:b.white,hcLight:b.black}),Q=this.registerColor("editorInlayHint.background",{dark:F(l,.1),light:F(l,.1),hcDark:F(b.white,.1),hcLight:F(l,.1)});this.registerColor("editorInlayHint.typeForeground",{dark:j,light:j,hcDark:j,hcLight:j}),this.registerColor("editorInlayHint.typeBackground",{dark:Q,light:Q,hcDark:Q,hcLight:Q}),this.registerColor("editorInlayHint.parameterForeground",{dark:j,light:j,hcDark:j,hcLight:j}),this.registerColor("editorInlayHint.parameterBackground",{dark:Q,light:Q,hcDark:Q,hcLight:Q}),this.registerColor("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"}),this.registerColor("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"});const oe="#9bb95533",te="#ff000033";this.registerColor("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null}),this.registerColor("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null}),this.registerColor("diffEditor.insertedLineBackground",{dark:oe,light:oe,hcDark:null,hcLight:null}),this.registerColor("diffEditor.removedLineBackground",{dark:te,light:te,hcDark:null,hcLight:null}),this.registerColor("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"}),this.registerColor("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"}),this.registerColor("diffEditor.border",{dark:null,light:null,hcDark:t,hcLight:t}),this.registerColor("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null}),this.registerColor("diffEditor.unchangedRegionBackground",{dark:"#3e3e3e",light:"#e4e4e4",hcDark:null,hcLight:null}),this.registerColor("diffEditor.unchangedRegionForeground",{dark:"#a3a2a2",light:"#4d4c4c",hcDark:null,hcLight:null}),this.registerColor("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null}),this.registerColor("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("list.focusOutline",{dark:I,light:I,hcDark:y,hcLight:y}),this.registerColor("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null});const $=this.registerColor("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:b.fromHex("#0F4A85").transparent(.1)}),q=this.registerColor("list.activeSelectionForeground",{dark:b.white,light:b.white,hcDark:null,hcLight:null}),Y=this.registerColor("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null});this.registerColor("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:b.fromHex("#0F4A85").transparent(.1)}),this.registerColor("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:b.white.transparent(.1),hcLight:b.fromHex("#0F4A85").transparent(.1)}),this.registerColor("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null});const pe=this.registerColor("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:I,hcLight:I});this.registerColor("list.focusHighlightForeground",{dark:pe,light:bt($,pe,"#BBE7FF"),hcDark:pe,hcLight:pe}),this.registerColor("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"}),this.registerColor("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null}),this.registerColor("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null}),this.registerColor("listFilterWidget.background",{light:Ae(d,0),dark:Se(d,0),hcDark:d,hcLight:d}),this.registerColor("listFilterWidget.outline",{dark:b.transparent,light:b.transparent,hcDark:"#f38518",hcLight:"#007ACC"}),this.registerColor("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:t,hcLight:t}),this.registerColor("listFilterWidget.shadow",{dark:E,light:E,hcDark:E,hcLight:E}),this.registerColor("list.filterMatchBackground",{dark:H,light:H,hcDark:null,hcLight:null}),this.registerColor("list.filterMatchBorder",{dark:K,light:K,hcDark:t,hcLight:y});const T=this.registerColor("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"});this.registerColor("tree.inactiveIndentGuidesStroke",{dark:F(T,.4),light:F(T,.4),hcDark:F(T,.4),hcLight:F(T,.4)}),this.registerColor("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null}),this.registerColor("tree.tableOddRowsBackground",{dark:F(f,.04),light:F(f,.04),hcDark:null,hcLight:null}),this.registerColor("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"}),this.registerColor("checkbox.background",{dark:u,light:u,hcDark:u,hcLight:u}),this.registerColor("checkbox.selectBackground",{dark:d,light:d,hcDark:d,hcLight:d}),this.registerColor("checkbox.foreground",{dark:k,light:k,hcDark:k,hcLight:k}),this.registerColor("checkbox.border",{dark:O,light:O,hcDark:O,hcLight:O}),this.registerColor("checkbox.selectBorder",{dark:P,light:P,hcDark:P,hcLight:P});const re=this.registerColor("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null});this.registerColor("quickInputList.focusForeground",{dark:q,light:q,hcDark:q,hcLight:q}),this.registerColor("quickInputList.focusIconForeground",{dark:Y,light:Y,hcDark:Y,hcLight:Y}),this.registerColor("quickInputList.focusBackground",{dark:et(re,$),light:et(re,$),hcDark:null,hcLight:null}),this.registerColor("menu.border",{dark:null,light:null,hcDark:t,hcLight:t}),this.registerColor("menu.foreground",{dark:k,light:k,hcDark:k,hcLight:k}),this.registerColor("menu.background",{dark:u,light:u,hcDark:u,hcLight:u}),this.registerColor("menu.selectionForeground",{dark:q,light:q,hcDark:q,hcLight:q}),this.registerColor("menu.selectionBackground",{dark:$,light:$,hcDark:$,hcLight:$}),this.registerColor("menu.selectionBorder",{dark:null,light:null,hcDark:y,hcLight:y}),this.registerColor("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:t,hcLight:t});const J=this.registerColor("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null});this.registerColor("toolbar.hoverOutline",{dark:null,light:null,hcDark:y,hcLight:y}),this.registerColor("toolbar.activeBackground",{dark:Se(J,.1),light:Ae(J,.1),hcDark:null,hcLight:null}),this.registerColor("editor.snippetTabstopHighlightBackground",{dark:"#7c7c7c4d",light:"#0a326433",hcDark:"#7c7c7c4d",hcLight:"#0a326433"}),this.registerColor("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:"#0a326480",hcDark:"#525252",hcLight:"#292929"}),this.registerColor("breadcrumb.foreground",{light:F(f,.8),dark:F(f,.8),hcDark:F(f,.8),hcLight:F(f,.8)}),this.registerColor("breadcrumb.background",{light:o,dark:o,hcDark:o,hcLight:o}),this.registerColor("breadcrumb.focusForeground",{light:Ae(f,.2),dark:Se(f,.1),hcDark:Se(f,.1),hcLight:Se(f,.1)}),this.registerColor("breadcrumb.activeSelectionForeground",{light:Ae(f,.2),dark:Se(f,.1),hcDark:Se(f,.1),hcLight:Se(f,.1)}),this.registerColor("breadcrumbPicker.background",{light:d,dark:d,hcDark:d,hcLight:d});const se=.5,ve=b.fromHex("#40C8AE").transparent(se),ue=b.fromHex("#40A6FF").transparent(se),Fe=b.fromHex("#606060").transparent(.4),ae=.4,be=1,fe=this.registerColor("merge.currentHeaderBackground",{dark:ve,light:ve,hcDark:null,hcLight:null});this.registerColor("merge.currentContentBackground",{dark:F(fe,ae),light:F(fe,ae),hcDark:F(fe,ae),hcLight:F(fe,ae)});const Ce=this.registerColor("merge.incomingHeaderBackground",{dark:ue,light:ue,hcDark:null,hcLight:null});this.registerColor("merge.incomingContentBackground",{dark:F(Ce,ae),light:F(Ce,ae),hcDark:F(Ce,ae),hcLight:F(Ce,ae)});const _e=this.registerColor("merge.commonHeaderBackground",{dark:Fe,light:Fe,hcDark:null,hcLight:null});this.registerColor("merge.commonContentBackground",{dark:F(_e,ae),light:F(_e,ae),hcDark:F(_e,ae),hcLight:F(_e,ae)});const ke=this.registerColor("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"});this.registerColor("editorOverviewRuler.currentContentForeground",{dark:F(fe,be),light:F(fe,be),hcDark:ke,hcLight:ke}),this.registerColor("editorOverviewRuler.incomingContentForeground",{dark:F(Ce,be),light:F(Ce,be),hcDark:ke,hcLight:ke}),this.registerColor("editorOverviewRuler.commonContentForeground",{dark:F(_e,be),light:F(_e,be),hcDark:ke,hcLight:ke}),this.registerColor("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""}),this.registerColor("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"});const ge=this.registerColor("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"});this.registerColor("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"}),this.registerColor("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"}),this.registerColor("minimap.infoHighlight",{dark:s,light:s,hcDark:r,hcLight:r}),this.registerColor("minimap.warningHighlight",{dark:e,light:e,hcDark:i,hcLight:i}),this.registerColor("minimap.errorHighlight",{dark:"#ff1212b3",light:"#ff1212b3",hcDark:"#ff3232",hcLight:"#B5200D"}),this.registerColor("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("minimap.foregroundOpacity",{dark:b.fromHex("#000f"),light:b.fromHex("#000f"),hcDark:b.fromHex("#000f"),hcLight:b.fromHex("#000f")}),this.registerColor("minimapSlider.background",{light:F(D,.5),dark:F(D,.5),hcDark:F(D,.5),hcLight:F(D,.5)}),this.registerColor("minimapSlider.hoverBackground",{light:F(h,.5),dark:F(h,.5),hcDark:F(h,.5),hcLight:F(h,.5)}),this.registerColor("minimapSlider.activeBackground",{light:F(p,.5),dark:F(p,.5),hcDark:F(p,.5),hcLight:F(p,.5)}),this.registerColor("problemsErrorIcon.foreground",{dark:n,light:n,hcDark:n,hcLight:n}),this.registerColor("problemsWarningIcon.foreground",{dark:e,light:e,hcDark:e,hcLight:e}),this.registerColor("problemsInfoIcon.foreground",{dark:s,light:s,hcDark:s,hcLight:s}),this.registerColor("charts.foreground",{dark:f,light:f,hcDark:f,hcLight:f}),this.registerColor("charts.lines",{dark:F(f,.5),light:F(f,.5),hcDark:F(f,.5),hcLight:F(f,.5)}),this.registerColor("charts.red",{dark:n,light:n,hcDark:n,hcLight:n}),this.registerColor("charts.blue",{dark:s,light:s,hcDark:s,hcLight:s}),this.registerColor("charts.yellow",{dark:e,light:e,hcDark:e,hcLight:e}),this.registerColor("charts.orange",{dark:ge,light:ge,hcDark:ge,hcLight:ge}),this.registerColor("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"}),this.registerColor("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"});const ye=this.registerColor("tab.activeBackground",{dark:o,light:o,hcDark:o,hcLight:o});this.registerColor("tab.unfocusedActiveBackground",{dark:ye,light:ye,hcDark:ye,hcLight:ye});const Be=this.registerColor("tab.inactiveBackground",{dark:"#2D2D2D",light:"#ECECEC",hcDark:null,hcLight:null});this.registerColor("tab.unfocusedInactiveBackground",{dark:Be,light:Be,hcDark:Be,hcLight:Be});const Re=this.registerColor("tab.activeForeground",{dark:b.white,light:"#333333",hcDark:b.white,hcLight:"#292929"}),Te=this.registerColor("tab.inactiveForeground",{dark:F(Re,.5),light:F(Re,.7),hcDark:b.white,hcLight:"#292929"});this.registerColor("tab.unfocusedActiveForeground",{dark:F(Re,.5),light:F(Re,.7),hcDark:b.white,hcLight:"#292929"}),this.registerColor("tab.unfocusedInactiveForeground",{dark:F(Te,.5),light:F(Te,.5),hcDark:b.white,hcLight:"#292929"});const Me=this.registerColor("tab.hoverBackground",{dark:null,light:null,hcDark:null,hcLight:null});this.registerColor("tab.unfocusedHoverBackground",{dark:F(Me,.5),light:F(Me,.7),hcDark:null,hcLight:null});const Ne=this.registerColor("tab.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null});this.registerColor("tab.unfocusedHoverForeground",{dark:F(Ne,.5),light:F(Ne,.5),hcDark:null,hcLight:null}),this.registerColor("tab.border",{dark:"#252526",light:"#F3F3F3",hcDark:t,hcLight:t}),this.registerColor("tab.lastPinnedBorder",{dark:T,light:T,hcDark:t,hcLight:t});const He=this.registerColor("tab.activeBorder",{dark:null,light:null,hcDark:null,hcLight:null});this.registerColor("tab.unfocusedActiveBorder",{dark:F(He,.5),light:F(He,.7),hcDark:null,hcLight:null});const Oe=this.registerColor("tab.activeBorderTop",{dark:null,light:null,hcDark:null,hcLight:"#B5200D"});this.registerColor("tab.unfocusedActiveBorderTop",{dark:F(Oe,.5),light:F(Oe,.7),hcDark:null,hcLight:"#B5200D"});const Pe=this.registerColor("tab.hoverBorder",{dark:null,light:null,hcDark:null,hcLight:null});this.registerColor("tab.unfocusedHoverBorder",{dark:F(Pe,.5),light:F(Pe,.7),hcDark:null,hcLight:t});const We=this.registerColor("tab.activeModifiedBorder",{dark:"#3399CC",light:"#33AAEE",hcDark:null,hcLight:t}),je=this.registerColor("tab.inactiveModifiedBorder",{dark:F(We,.5),light:F(We,.5),hcDark:b.white,hcLight:t});this.registerColor("tab.unfocusedActiveModifiedBorder",{dark:F(We,.5),light:F(We,.7),hcDark:b.white,hcLight:t}),this.registerColor("tab.unfocusedInactiveModifiedBorder",{dark:F(je,.5),light:F(je,.5),hcDark:b.white,hcLight:t}),this.registerColor("editorPane.background",{dark:o,light:o,hcDark:o,hcLight:o}),this.registerColor("editorGroup.emptyBackground",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("editorGroup.focusedEmptyBorder",{dark:null,light:null,hcDark:I,hcLight:I}),this.registerColor("editorGroupHeader.tabsBackground",{dark:"#252526",light:"#F3F3F3",hcDark:null,hcLight:null}),this.registerColor("editorGroupHeader.tabsBorder",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("editorGroupHeader.noTabsBackground",{dark:o,light:o,hcDark:o,hcLight:o}),this.registerColor("editorGroupHeader.border",{dark:null,light:null,hcDark:t,hcLight:t});const Ee=this.registerColor("editorGroup.border",{dark:"#444444",light:"#E7E7E7",hcDark:t,hcLight:t}),De=this.registerColor("editorGroup.dropBackground",{dark:b.fromHex("#53595D").transparent(.5),light:b.fromHex("#2677CB").transparent(.18),hcDark:null,hcLight:b.fromHex("#0F4A85").transparent(.5)});this.registerColor("editorGroup.dropIntoPromptForeground",{dark:_,light:_,hcDark:_,hcLight:_}),this.registerColor("editorGroup.dropIntoPromptBackground",{dark:d,light:d,hcDark:d,hcLight:d}),this.registerColor("editorGroup.dropIntoPromptBorder",{dark:null,light:null,hcDark:t,hcLight:t}),this.registerColor("sideBySideEditor.horizontalBorder",{dark:Ee,light:Ee,hcDark:Ee,hcLight:Ee}),this.registerColor("sideBySideEditor.verticalBorder",{dark:Ee,light:Ee,hcDark:Ee,hcLight:Ee}),this.registerColor("panel.background",{dark:o,light:o,hcDark:o,hcLight:o});const xe=this.registerColor("panel.border",{dark:b.fromHex("#808080").transparent(.35),light:b.fromHex("#808080").transparent(.35),hcDark:t,hcLight:t}),ie=this.registerColor("panelTitle.activeForeground",{dark:"#E7E7E7",light:"#424242",hcDark:b.white,hcLight:c});this.registerColor("panelTitle.inactiveForeground",{dark:F(ie,.6),light:F(ie,.75),hcDark:b.white,hcLight:c}),this.registerColor("panelTitle.activeBorder",{dark:ie,light:ie,hcDark:t,hcLight:"#B5200D"}),this.registerColor("panelInput.border",{dark:v,light:b.fromHex("#ddd"),hcDark:v,hcLight:v}),this.registerColor("panel.dropBorder",{dark:ie,light:ie,hcDark:ie,hcLight:ie}),this.registerColor("panelSection.dropBackground",{dark:De,light:De,hcDark:De,hcLight:De}),this.registerColor("panelSectionHeader.background",{dark:b.fromHex("#808080").transparent(.2),light:b.fromHex("#808080").transparent(.2),hcDark:null,hcLight:null}),this.registerColor("panelSectionHeader.foreground",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("panelSectionHeader.border",{dark:t,light:t,hcDark:t,hcLight:t}),this.registerColor("panelSection.border",{dark:xe,light:xe,hcDark:xe,hcLight:xe});const ce=this.registerColor("statusBar.foreground",{dark:"#FFFFFF",light:"#FFFFFF",hcDark:"#FFFFFF",hcLight:c});this.registerColor("statusBar.noFolderForeground",{dark:ce,light:ce,hcDark:ce,hcLight:ce}),this.registerColor("statusBar.background",{dark:"#007ACC",light:"#007ACC",hcDark:null,hcLight:null}),this.registerColor("statusBar.noFolderBackground",{dark:"#68217A",light:"#68217A",hcDark:null,hcLight:null});const Le=this.registerColor("statusBar.border",{dark:null,light:null,hcDark:t,hcLight:t});this.registerColor("statusBar.focusBorder",{dark:ce,light:ce,hcDark:null,hcLight:ce}),this.registerColor("statusBar.noFolderBorder",{dark:Le,light:Le,hcDark:Le,hcLight:Le}),this.registerColor("statusBarItem.activeBackground",{dark:b.white.transparent(.18),light:b.white.transparent(.18),hcDark:b.white.transparent(.18),hcLight:b.black.transparent(.18)}),this.registerColor("statusBarItem.focusBorder",{dark:ce,light:ce,hcDark:null,hcLight:y});const Ie=this.registerColor("statusBarItem.hoverBackground",{dark:b.white.transparent(.12),light:b.white.transparent(.12),hcDark:b.white.transparent(.12),hcLight:b.black.transparent(.12)}),g=this.registerColor("statusBarItem.hoverForeground",{dark:ce,light:ce,hcDark:ce,hcLight:ce});this.registerColor("statusBarItem.compactHoverBackground",{dark:b.white.transparent(.2),light:b.white.transparent(.2),hcDark:b.white.transparent(.2),hcLight:b.black.transparent(.2)}),this.registerColor("statusBarItem.prominentForeground",{dark:ce,light:ce,hcDark:ce,hcLight:ce}),this.registerColor("statusBarItem.prominentBackground",{dark:b.black.transparent(.5),light:b.black.transparent(.5),hcDark:b.black.transparent(.5),hcLight:b.black.transparent(.5)}),this.registerColor("statusBarItem.prominentHoverForeground",{dark:g,light:g,hcDark:g,hcLight:g}),this.registerColor("statusBarItem.prominentHoverBackground",{dark:b.black.transparent(.3),light:b.black.transparent(.3),hcDark:b.black.transparent(.3),hcLight:null}),this.registerColor("statusBarItem.errorBackground",{dark:Ae(A,.4),light:Ae(A,.4),hcDark:null,hcLight:"#B5200D"}),this.registerColor("statusBarItem.errorForeground",{dark:b.white,light:b.white,hcDark:b.white,hcLight:b.white}),this.registerColor("statusBarItem.errorHoverForeground",{dark:g,light:g,hcDark:g,hcLight:g}),this.registerColor("statusBarItem.errorHoverBackground",{dark:Ie,light:Ie,hcDark:Ie,hcLight:Ie}),this.registerColor("statusBarItem.warningBackground",{dark:Ae(e,.4),light:Ae(e,.4),hcDark:null,hcLight:"#895503"}),this.registerColor("statusBarItem.warningForeground",{dark:b.white,light:b.white,hcDark:b.white,hcLight:b.white}),this.registerColor("statusBarItem.warningHoverForeground",{dark:g,light:g,hcDark:g,hcLight:g}),this.registerColor("statusBarItem.warningHoverBackground",{dark:Ie,light:Ie,hcDark:Ie,hcLight:Ie}),this.registerColor("activityBar.background",{dark:"#333333",light:"#2C2C2C",hcDark:"#000000",hcLight:"#FFFFFF"});const L=this.registerColor("activityBar.foreground",{dark:b.white,light:b.white,hcDark:b.white,hcLight:c});this.registerColor("activityBar.inactiveForeground",{dark:F(L,.4),light:F(L,.4),hcDark:b.white,hcLight:c}),this.registerColor("activityBar.border",{dark:null,light:null,hcDark:t,hcLight:t}),this.registerColor("activityBar.activeBorder",{dark:L,light:L,hcDark:null,hcLight:t}),this.registerColor("activityBar.activeFocusBorder",{dark:null,light:null,hcDark:null,hcLight:"#B5200D"}),this.registerColor("activityBar.activeBackground",{dark:null,light:null,hcDark:null,hcLight:null}),this.registerColor("activityBar.dropBorder",{dark:L,light:L,hcDark:null,hcLight:null}),this.registerColor("activityBarBadge.background",{dark:"#007ACC",light:"#007ACC",hcDark:"#000000",hcLight:"#0F4A85"}),this.registerColor("activityBarBadge.foreground",{dark:b.white,light:b.white,hcDark:b.white,hcLight:b.white}),this.registerColor("sideBar.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#000000",hcLight:"#FFFFFF"});const R=this.registerColor("sideBar.foreground",{dark:null,light:null,hcDark:null,hcLight:null});this.registerColor("sideBar.border",{dark:null,light:null,hcDark:t,hcLight:t}),this.registerColor("sideBarTitle.foreground",{dark:R,light:R,hcDark:R,hcLight:R}),this.registerColor("sideBar.dropBackground",{dark:De,light:De,hcDark:De,hcLight:De}),this.registerColor("sideBarSectionHeader.background",{dark:b.fromHex("#808080").transparent(.2),light:b.fromHex("#808080").transparent(.2),hcDark:null,hcLight:null}),this.registerColor("sideBarSectionHeader.foreground",{dark:R,light:R,hcDark:R,hcLight:R}),this.registerColor("sideBarSectionHeader.border",{dark:t,light:t,hcDark:t,hcLight:t});const w=this.registerColor("titleBar.activeForeground",{dark:"#CCCCCC",light:"#333333",hcDark:"#FFFFFF",hcLight:"#292929"});this.registerColor("titleBar.inactiveForeground",{dark:F(w,.6),light:F(w,.6),hcDark:null,hcLight:"#292929"});const G=this.registerColor("titleBar.activeBackground",{dark:"#3C3C3C",light:"#DDDDDD",hcDark:"#000000",hcLight:"#FFFFFF"});this.registerColor("titleBar.inactiveBackground",{dark:F(G,.6),light:F(G,.6),hcDark:null,hcLight:null}),this.registerColor("titleBar.border",{dark:null,light:null,hcDark:t,hcLight:t}),this.registerColor("menubar.selectionForeground",{dark:w,light:w,hcDark:w,hcLight:w}),this.registerColor("menubar.selectionBackground",{dark:J,light:J,hcDark:null,hcLight:null}),this.registerColor("menubar.selectionBorder",{dark:null,light:null,hcDark:y,hcLight:y}),this.registerColor("notificationCenter.border",{dark:a,light:a,hcDark:t,hcLight:t}),this.registerColor("notificationToast.border",{dark:a,light:a,hcDark:t,hcLight:t}),this.registerColor("notifications.foreground",{dark:_,light:_,hcDark:_,hcLight:_});const M=this.registerColor("notifications.background",{dark:d,light:d,hcDark:d,hcLight:d});this.registerColor("notificationLink.foreground",{dark:C,light:C,hcDark:C,hcLight:C}),this.registerColor("notificationCenterHeader.foreground",{dark:null,light:null,hcDark:null,hcLight:null});const W=this.registerColor("notificationCenterHeader.background",{dark:Se(M,.3),light:Ae(M,.05),hcDark:M,hcLight:M});this.registerColor("notifications.border",{dark:W,light:W,hcDark:W,hcLight:W}),this.registerColor("notificationsErrorIcon.foreground",{dark:n,light:n,hcDark:n,hcLight:n}),this.registerColor("notificationsWarningIcon.foreground",{dark:e,light:e,hcDark:e,hcLight:e}),this.registerColor("notificationsInfoIcon.foreground",{dark:s,light:s,hcDark:s,hcLight:s}),this.registerColor("window.activeBorder",{dark:null,light:null,hcDark:t,hcLight:t}),this.registerColor("window.inactiveBorder",{dark:null,light:null,hcDark:t,hcLight:t})}isTransformType(f){return"op"in f}getHexColor(f,A){var P;if(f===null)return f;if(typeof f=="string")return f.startsWith("#")?b.fromHex(f):this.colors.has(f)?this.getHexColor(((P=this.colors.get(f))==null?void 0:P[A])||null,A):null;if(this.isTransformType(f))switch(f.op){case 1:{const I=this.getHexColor(f.value,A);return I&&I.lighten(f.factor)}case 0:{const I=this.getHexColor(f.value,A);return I&&I.darken(f.factor)}case 2:{const I=this.getHexColor(f.value,A);return I&&I.transparent(f.factor)}case 6:{const I=this.getHexColor(f.if,A),t=this.getHexColor(f.then,A),y=this.getHexColor(f.else,A);return I?t:y}case 4:return f.values.reduce((I,t)=>I!==null?I:this.getHexColor(t,A),null);case 5:{const I=this.getHexColor(f.value,A);if(!I)return null;const t=this.getHexColor(f.background,A);return t?I.isDarkerThan(t)?b.getLighterColor(I,t,f.factor).transparent(f.transparency):b.getDarkerColor(I,t,f.factor).transparent(f.transparency):I.transparent(f.factor*f.transparency)}default:return null}return f}getDefaultColor(f){const A={};return this.colors.forEach((P,I)=>{const t=P[f],y=this.getHexColor(t,f);A[I]=y&&b.Format.CSS.formatHexA(y)}),A}}var Ye=(V=>(V.onChange="colorTheme.onChange",V))(Ye||{});class rt{constructor(f=[],A=""){this.data=f,this.current=A}}var ot={exports:{}};(function(V,f){(function(A,P){V.exports=P()})(it,()=>{return A={770:function(I,t,y){var C=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultDebugCall=t.createOnigScanner=t.createOnigString=t.loadWASM=t.OnigScanner=t.OnigString=void 0;const E=C(y(418));let a=null,v=!1;class u{static _utf8ByteLength(l){let D=0;for(let h=0,p=l.length;h<p;h++){const n=l.charCodeAt(h);let e=n,i=!1;if(n>=55296&&n<=56319&&h+1<p){const s=l.charCodeAt(h+1);s>=56320&&s<=57343&&(e=65536+(n-55296<<10)|s-56320,i=!0)}D+=e<=127?1:e<=2047?2:e<=65535?3:4,i&&h++}return D}constructor(l){const D=l.length,h=u._utf8ByteLength(l),p=h!==D,n=p?new Uint32Array(D+1):null;p&&(n[D]=h);const e=p?new Uint32Array(h+1):null;p&&(e[h]=D);const i=new Uint8Array(h);let s=0;for(let r=0;r<D;r++){const o=l.charCodeAt(r);let c=o,d=!1;if(o>=55296&&o<=56319&&r+1<D){const _=l.charCodeAt(r+1);_>=56320&&_<=57343&&(c=65536+(o-55296<<10)|_-56320,d=!0)}p&&(n[r]=s,d&&(n[r+1]=s),c<=127?e[s+0]=r:c<=2047?(e[s+0]=r,e[s+1]=r):c<=65535?(e[s+0]=r,e[s+1]=r,e[s+2]=r):(e[s+0]=r,e[s+1]=r,e[s+2]=r,e[s+3]=r)),c<=127?i[s++]=c:c<=2047?(i[s++]=192|(1984&c)>>>6,i[s++]=128|(63&c)>>>0):c<=65535?(i[s++]=224|(61440&c)>>>12,i[s++]=128|(4032&c)>>>6,i[s++]=128|(63&c)>>>0):(i[s++]=240|(1835008&c)>>>18,i[s++]=128|(258048&c)>>>12,i[s++]=128|(4032&c)>>>6,i[s++]=128|(63&c)>>>0),d&&r++}this.utf16Length=D,this.utf8Length=h,this.utf16Value=l,this.utf8Value=i,this.utf16OffsetToUtf8=n,this.utf8OffsetToUtf16=e}createString(l){const D=l._omalloc(this.utf8Length);return l.HEAPU8.set(this.utf8Value,D),D}}class k{constructor(l){if(this.id=++k.LAST_ID,!a)throw new Error("Must invoke loadWASM first.");this._onigBinding=a,this.content=l;const D=new u(l);this.utf16Length=D.utf16Length,this.utf8Length=D.utf8Length,this.utf16OffsetToUtf8=D.utf16OffsetToUtf8,this.utf8OffsetToUtf16=D.utf8OffsetToUtf16,this.utf8Length<1e4&&!k._sharedPtrInUse?(k._sharedPtr||(k._sharedPtr=a._omalloc(1e4)),k._sharedPtrInUse=!0,a.HEAPU8.set(D.utf8Value,k._sharedPtr),this.ptr=k._sharedPtr):this.ptr=D.createString(a)}convertUtf8OffsetToUtf16(l){return this.utf8OffsetToUtf16?l<0?0:l>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[l]:l}convertUtf16OffsetToUtf8(l){return this.utf16OffsetToUtf8?l<0?0:l>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[l]:l}dispose(){this.ptr===k._sharedPtr?k._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}t.OnigString=k,k.LAST_ID=0,k._sharedPtr=0,k._sharedPtrInUse=!1;class O{constructor(l,D){var h,p;if(!a)throw new Error("Must invoke loadWASM first.");const n=[],e=[];for(let d=0,_=l.length;d<_;d++){const x=new u(l[d]);n[d]=x.createString(a),e[d]=x.utf8Length}const i=a._omalloc(4*l.length);a.HEAPU32.set(n,i/4);const s=a._omalloc(4*l.length);a.HEAPU32.set(e,s/4),this._onigBinding=a,this._options=(h=D==null?void 0:D.options)!==null&&h!==void 0?h:[10];const r=this.onigOptions(this._options),o=this.onigSyntax((p=D==null?void 0:D.syntax)!==null&&p!==void 0?p:0),c=a._createOnigScanner(i,s,l.length,r,o);this._ptr=c;for(let d=0,_=l.length;d<_;d++)a._ofree(n[d]);a._ofree(s),a._ofree(i),c===0&&function(d){throw new Error(d.UTF8ToString(d._getLastOnigError()))}(a)}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(l,D,h){let p=v,n=this._options;if(Array.isArray(h)?(h.includes(25)&&(p=!0),n=n.concat(h)):typeof h=="boolean"&&(p=h),typeof l=="string"){l=new k(l);const e=this._findNextMatchSync(l,D,p,n);return l.dispose(),e}return this._findNextMatchSync(l,D,p,n)}_findNextMatchSync(l,D,h,p){const n=this._onigBinding,e=this.onigOptions(p);let i;if(i=h?n._findNextOnigScannerMatchDbg(this._ptr,l.id,l.ptr,l.utf8Length,l.convertUtf16OffsetToUtf8(D),e):n._findNextOnigScannerMatch(this._ptr,l.id,l.ptr,l.utf8Length,l.convertUtf16OffsetToUtf8(D),e),i===0)return null;const s=n.HEAPU32;let r=i/4;const o=s[r++],c=s[r++];let d=[];for(let _=0;_<c;_++){const x=l.convertUtf8OffsetToUtf16(s[r++]),N=l.convertUtf8OffsetToUtf16(s[r++]);d[_]={start:x,end:N,length:N-x}}return{index:o,captureIndices:d}}onigOptions(l){return l.map(D=>this.onigOption(D)).reduce((D,h)=>D|h,this._onigBinding.ONIG_OPTION_NONE)}onigSyntax(l){switch(l){case 0:return this._onigBinding.ONIG_SYNTAX_DEFAULT;case 1:return this._onigBinding.ONIG_SYNTAX_ASIS;case 2:return this._onigBinding.ONIG_SYNTAX_POSIX_BASIC;case 3:return this._onigBinding.ONIG_SYNTAX_POSIX_EXTENDED;case 4:return this._onigBinding.ONIG_SYNTAX_EMACS;case 5:return this._onigBinding.ONIG_SYNTAX_GREP;case 6:return this._onigBinding.ONIG_SYNTAX_GNU_REGEX;case 7:return this._onigBinding.ONIG_SYNTAX_JAVA;case 8:return this._onigBinding.ONIG_SYNTAX_PERL;case 9:return this._onigBinding.ONIG_SYNTAX_PERL_NG;case 10:return this._onigBinding.ONIG_SYNTAX_RUBY;case 11:return this._onigBinding.ONIG_SYNTAX_PYTHON;case 12:return this._onigBinding.ONIG_SYNTAX_ONIGURUMA}}onigOption(l){switch(l){case 1:return this._onigBinding.ONIG_OPTION_NONE;case 0:case 25:return this._onigBinding.ONIG_OPTION_DEFAULT;case 2:return this._onigBinding.ONIG_OPTION_IGNORECASE;case 3:return this._onigBinding.ONIG_OPTION_EXTEND;case 4:return this._onigBinding.ONIG_OPTION_MULTILINE;case 5:return this._onigBinding.ONIG_OPTION_SINGLELINE;case 6:return this._onigBinding.ONIG_OPTION_FIND_LONGEST;case 7:return this._onigBinding.ONIG_OPTION_FIND_NOT_EMPTY;case 8:return this._onigBinding.ONIG_OPTION_NEGATE_SINGLELINE;case 9:return this._onigBinding.ONIG_OPTION_DONT_CAPTURE_GROUP;case 10:return this._onigBinding.ONIG_OPTION_CAPTURE_GROUP;case 11:return this._onigBinding.ONIG_OPTION_NOTBOL;case 12:return this._onigBinding.ONIG_OPTION_NOTEOL;case 13:return this._onigBinding.ONIG_OPTION_CHECK_VALIDITY_OF_STRING;case 14:return this._onigBinding.ONIG_OPTION_IGNORECASE_IS_ASCII;case 15:return this._onigBinding.ONIG_OPTION_WORD_IS_ASCII;case 16:return this._onigBinding.ONIG_OPTION_DIGIT_IS_ASCII;case 17:return this._onigBinding.ONIG_OPTION_SPACE_IS_ASCII;case 18:return this._onigBinding.ONIG_OPTION_POSIX_IS_ASCII;case 19:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_EXTENDED_GRAPHEME_CLUSTER;case 20:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_WORD;case 21:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_STRING;case 22:return this._onigBinding.ONIG_OPTION_NOT_END_STRING;case 23:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_POSITION;case 24:return this._onigBinding.ONIG_OPTION_CALLBACK_EACH_MATCH}}}t.OnigScanner=O;let m=!1,B=null;t.loadWASM=function(S){if(m)return B;let l,D,h,p;if(m=!0,function(n){return typeof n.instantiator=="function"}(S))l=S.instantiator,D=S.print;else{let n;(function(e){return e.data!==void 0})(S)?(n=S.data,D=S.print):n=S,l=function(e){return typeof Response<"u"&&e instanceof Response}(n)?typeof WebAssembly.instantiateStreaming=="function"?function(e){return i=>WebAssembly.instantiateStreaming(e,i)}(n):function(e){return async i=>{const s=await e.arrayBuffer();return WebAssembly.instantiate(s,i)}}(n):function(e){return i=>WebAssembly.instantiate(e,i)}(n)}return B=new Promise((n,e)=>{h=n,p=e}),function(n,e,i,s){(0,E.default)({print:e,instantiateWasm:(r,o)=>{if(typeof performance>"u"){const c=()=>Date.now();r.env.emscripten_get_now=c,r.wasi_snapshot_preview1.emscripten_get_now=c}return n(r).then(c=>o(c.instance),s),{}}}).then(r=>{a=r,i()})}(l,D,h,p),B},t.createOnigString=function(S){return new k(S)},t.createOnigScanner=function(S){return new O(S)},t.setDefaultDebugCall=function(S){v=S}},418:I=>{var t=(typeof document<"u"&&document.currentScript&&document.currentScript.src,function(y={}){var C,E,a=y;a.ready=new Promise((g,L)=>{C=g,E=L});var v,u=Object.assign({},a);typeof read<"u"&&read,v=g=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(g));let L=read(g,"binary");return typeof L=="object"||N(R),L;var R},typeof clearTimeout>"u"&&(globalThis.clearTimeout=g=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=g=>typeof g=="function"?g():N()),typeof scriptArgs<"u"&&scriptArgs,typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var k,O,m=a.print||console.log.bind(console),B=a.printErr||console.error.bind(console);Object.assign(a,u),u=null,a.arguments&&a.arguments,a.thisProgram&&a.thisProgram,a.quit&&a.quit,a.wasmBinary&&(k=a.wasmBinary),a.noExitRuntime,typeof WebAssembly!="object"&&N("no native wasm support detected");var S,l,D,h,p,n,e,i,s=!1;function r(){var g=O.buffer;a.HEAP8=S=new Int8Array(g),a.HEAP16=D=new Int16Array(g),a.HEAPU8=l=new Uint8Array(g),a.HEAPU16=h=new Uint16Array(g),a.HEAP32=p=new Int32Array(g),a.HEAPU32=n=new Uint32Array(g),a.HEAPF32=e=new Float32Array(g),a.HEAPF64=i=new Float64Array(g)}var o=[],c=[],d=[],_=0,x=null;function N(g){a.onAbort&&a.onAbort(g),B(g="Aborted("+g+")"),s=!0,g+=". Build with -sASSERTIONS for more info.";var L=new WebAssembly.RuntimeError(g);throw E(L),L}var H,K;function Z(g){return g.startsWith("data:application/octet-stream;base64,")}function j(g){if(g==H&&k)return new Uint8Array(k);if(v)return v(g);throw"both async and sync fetching of the wasm failed"}function Q(g,L,R){return function(w){return Promise.resolve().then(()=>j(w))}(g).then(w=>WebAssembly.instantiate(w,L)).then(w=>w).then(R,w=>{B(`failed to asynchronously prepare wasm: ${w}`),N(w)})}Z(H="onig.wasm")||(K=H,H=a.locateFile?a.locateFile(K,""):""+K);var oe=g=>{for(;g.length>0;)g.shift()(a)},te=void 0,$=g=>{for(var L="",R=g;l[R];)L+=te[l[R++]];return L},q={},Y={},pe=void 0,T=g=>{throw new pe(g)},re=void 0,J=(g,L,R)=>{function w(z){var U=R(z);U.length!==g.length&&(le=>{throw new re(le)})("Mismatched type converter count");for(var X=0;X<g.length;++X)se(g[X],U[X])}g.forEach(function(z){});var G=new Array(L.length),M=[],W=0;L.forEach((z,U)=>{Y.hasOwnProperty(z)?G[U]=Y[z]:(M.push(z),q.hasOwnProperty(z)||(q[z]=[]),q[z].push(()=>{G[U]=Y[z],++W===M.length&&w(G)}))}),M.length===0&&w(G)};function se(g,L,R={}){if(!("argPackAdvance"in L))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(w,G,M={}){var W=G.name;if(w||T(`type "${W}" must have a positive integer typeid pointer`),Y.hasOwnProperty(w)){if(M.ignoreDuplicateRegistrations)return;T(`Cannot register type '${W}' twice`)}if(Y[w]=G,q.hasOwnProperty(w)){var z=q[w];delete q[w],z.forEach(U=>U())}}(g,L,R)}function ve(){this.allocated=[void 0],this.freelist=[]}var ue=new ve,Fe=()=>{for(var g=0,L=ue.reserved;L<ue.allocated.length;++L)ue.allocated[L]!==void 0&&++g;return g},ae=g=>(g||T("Cannot use deleted val. handle = "+g),ue.get(g).value),be=g=>{switch(g){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ue.allocate({refcount:1,value:g})}};function fe(g){return this.fromWireType(p[g>>2])}var Ce=(g,L)=>{switch(L){case 4:return function(R){return this.fromWireType(e[R>>2])};case 8:return function(R){return this.fromWireType(i[R>>3])};default:throw new TypeError(`invalid float width (${L}): ${g}`)}},_e=(g,L,R)=>{switch(L){case 1:return R?w=>S[w>>0]:w=>l[w>>0];case 2:return R?w=>D[w>>1]:w=>h[w>>1];case 4:return R?w=>p[w>>2]:w=>n[w>>2];default:throw new TypeError(`invalid integer width (${L}): ${g}`)}};function ke(g){return this.fromWireType(n[g>>2])}var ge,ye=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Be=(g,L,R)=>{for(var w=L+R,G=L;g[G]&&!(G>=w);)++G;if(G-L>16&&g.buffer&&ye)return ye.decode(g.subarray(L,G));for(var M="";L<G;){var W=g[L++];if(128&W){var z=63&g[L++];if((224&W)!=192){var U=63&g[L++];if((W=(240&W)==224?(15&W)<<12|z<<6|U:(7&W)<<18|z<<12|U<<6|63&g[L++])<65536)M+=String.fromCharCode(W);else{var X=W-65536;M+=String.fromCharCode(55296|X>>10,56320|1023&X)}}else M+=String.fromCharCode((31&W)<<6|z)}else M+=String.fromCharCode(W)}return M},Re=(g,L)=>g?Be(l,g,L):"",Te=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Me=(g,L)=>{for(var R=g,w=R>>1,G=w+L/2;!(w>=G)&&h[w];)++w;if((R=w<<1)-g>32&&Te)return Te.decode(l.subarray(g,R));for(var M="",W=0;!(W>=L/2);++W){var z=D[g+2*W>>1];if(z==0)break;M+=String.fromCharCode(z)}return M},Ne=(g,L,R)=>{if(R===void 0&&(R=2147483647),R<2)return 0;for(var w=L,G=(R-=2)<2*g.length?R/2:g.length,M=0;M<G;++M){var W=g.charCodeAt(M);D[L>>1]=W,L+=2}return D[L>>1]=0,L-w},He=g=>2*g.length,Oe=(g,L)=>{for(var R=0,w="";!(R>=L/4);){var G=p[g+4*R>>2];if(G==0)break;if(++R,G>=65536){var M=G-65536;w+=String.fromCharCode(55296|M>>10,56320|1023&M)}else w+=String.fromCharCode(G)}return w},Pe=(g,L,R)=>{if(R===void 0&&(R=2147483647),R<4)return 0;for(var w=L,G=w+R-4,M=0;M<g.length;++M){var W=g.charCodeAt(M);if(W>=55296&&W<=57343&&(W=65536+((1023&W)<<10)|1023&g.charCodeAt(++M)),p[L>>2]=W,(L+=4)+4>G)break}return p[L>>2]=0,L-w},We=g=>{for(var L=0,R=0;R<g.length;++R){var w=g.charCodeAt(R);w>=55296&&w<=57343&&++R,L+=4}return L};ge=()=>performance.now();var je=g=>{var L=(g-O.buffer.byteLength+65535)/65536;try{return O.grow(L),r(),1}catch{}},Ee=[null,[],[]];(()=>{for(var g=new Array(256),L=0;L<256;++L)g[L]=String.fromCharCode(L);te=g})(),pe=a.BindingError=class extends Error{constructor(g){super(g),this.name="BindingError"}},re=a.InternalError=class extends Error{constructor(g){super(g),this.name="InternalError"}},Object.assign(ve.prototype,{get(g){return this.allocated[g]},has(g){return this.allocated[g]!==void 0},allocate(g){var L=this.freelist.pop()||this.allocated.length;return this.allocated[L]=g,L},free(g){this.allocated[g]=void 0,this.freelist.push(g)}}),ue.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),ue.reserved=ue.allocated.length,a.count_emval_handles=Fe;var De,xe={_embind_register_bigint:(g,L,R,w,G)=>{},_embind_register_bool:(g,L,R,w)=>{se(g,{name:L=$(L),fromWireType:function(G){return!!G},toWireType:function(G,M){return M?R:w},argPackAdvance:8,readValueFromPointer:function(G){return this.fromWireType(l[G])},destructorFunction:null})},_embind_register_constant:(g,L,R)=>{g=$(g),J([],[L],function(w){return w=w[0],a[g]=w.fromWireType(R),[]})},_embind_register_emval:(g,L)=>{se(g,{name:L=$(L),fromWireType:R=>{var w=ae(R);return(G=>{G>=ue.reserved&&--ue.get(G).refcount==0&&ue.free(G)})(R),w},toWireType:(R,w)=>be(w),argPackAdvance:8,readValueFromPointer:fe,destructorFunction:null})},_embind_register_float:(g,L,R)=>{se(g,{name:L=$(L),fromWireType:w=>w,toWireType:(w,G)=>G,argPackAdvance:8,readValueFromPointer:Ce(L,R),destructorFunction:null})},_embind_register_integer:(g,L,R,w,G)=>{L=$(L);var M=U=>U;if(w===0){var W=32-8*R;M=U=>U<<W>>>W}var z=L.includes("unsigned");se(g,{name:L,fromWireType:M,toWireType:z?function(U,X){return this.name,X>>>0}:function(U,X){return this.name,X},argPackAdvance:8,readValueFromPointer:_e(L,R,w!==0),destructorFunction:null})},_embind_register_memory_view:(g,L,R)=>{var w=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][L];function G(M){var W=n[M>>2],z=n[M+4>>2];return new w(S.buffer,z,W)}se(g,{name:R=$(R),fromWireType:G,argPackAdvance:8,readValueFromPointer:G},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:(g,L)=>{var R=(L=$(L))==="std::string";se(g,{name:L,fromWireType:w=>{var G,M=n[w>>2],W=w+4;if(R)for(var z=W,U=0;U<=M;++U){var X=W+U;if(U==M||l[X]==0){var le=Re(z,X-z);G===void 0?G=le:(G+=String.fromCharCode(0),G+=le),z=X+1}}else{var ne=new Array(M);for(U=0;U<M;++U)ne[U]=String.fromCharCode(l[W+U]);G=ne.join("")}return Le(w),G},toWireType:(w,G)=>{var M;G instanceof ArrayBuffer&&(G=new Uint8Array(G));var W=typeof G=="string";W||G instanceof Uint8Array||G instanceof Uint8ClampedArray||G instanceof Int8Array||T("Cannot pass non-string to std::string"),M=R&&W?(ne=>{for(var he=0,ee=0;ee<ne.length;++ee){var we=ne.charCodeAt(ee);we<=127?he++:we<=2047?he+=2:we>=55296&&we<=57343?(he+=4,++ee):he+=3}return he})(G):G.length;var z=ce(4+M+1),U=z+4;if(n[z>>2]=M,R&&W)((ne,he,ee,we)=>{if(!(we>0))return 0;for(var ze=ee,$e=ee+we-1,Ve=0;Ve<ne.length;++Ve){var de=ne.charCodeAt(Ve);if(de>=55296&&de<=57343&&(de=65536+((1023&de)<<10)|1023&ne.charCodeAt(++Ve)),de<=127){if(ee>=$e)break;he[ee++]=de}else if(de<=2047){if(ee+1>=$e)break;he[ee++]=192|de>>6,he[ee++]=128|63&de}else if(de<=65535){if(ee+2>=$e)break;he[ee++]=224|de>>12,he[ee++]=128|de>>6&63,he[ee++]=128|63&de}else{if(ee+3>=$e)break;he[ee++]=240|de>>18,he[ee++]=128|de>>12&63,he[ee++]=128|de>>6&63,he[ee++]=128|63&de}}he[ee]=0})(G,l,U,M+1);else if(W)for(var X=0;X<M;++X){var le=G.charCodeAt(X);le>255&&(Le(U),T("String has UTF-16 code units that do not fit in 8 bits")),l[U+X]=le}else for(X=0;X<M;++X)l[U+X]=G[X];return w!==null&&w.push(Le,z),z},argPackAdvance:8,readValueFromPointer:ke,destructorFunction:w=>Le(w)})},_embind_register_std_wstring:(g,L,R)=>{var w,G,M,W,z;R=$(R),L===2?(w=Me,G=Ne,W=He,M=()=>h,z=1):L===4&&(w=Oe,G=Pe,W=We,M=()=>n,z=2),se(g,{name:R,fromWireType:U=>{for(var X,le=n[U>>2],ne=M(),he=U+4,ee=0;ee<=le;++ee){var we=U+4+ee*L;if(ee==le||ne[we>>z]==0){var ze=w(he,we-he);X===void 0?X=ze:(X+=String.fromCharCode(0),X+=ze),he=we+L}}return Le(U),X},toWireType:(U,X)=>{typeof X!="string"&&T(`Cannot pass non-string to C++ string type ${R}`);var le=W(X),ne=ce(4+le+L);return n[ne>>2]=le>>z,G(X,ne+4,le+L),U!==null&&U.push(Le,ne),ne},argPackAdvance:8,readValueFromPointer:fe,destructorFunction:U=>Le(U)})},_embind_register_void:(g,L)=>{se(g,{isVoid:!0,name:L=$(L),argPackAdvance:0,fromWireType:()=>{},toWireType:(R,w)=>{}})},emscripten_get_now:ge,emscripten_memcpy_big:(g,L,R)=>l.copyWithin(g,L,L+R),emscripten_resize_heap:g=>{var L=l.length,R=2147483648;if((g>>>=0)>R)return!1;for(var w,G=1;G<=4;G*=2){var M=L*(1+.2/G);M=Math.min(M,g+100663296);var W=Math.min(R,(w=Math.max(g,M))+(65536-w%65536)%65536);if(je(W))return!0}return!1},fd_write:(g,L,R,w)=>{for(var G=0,M=0;M<R;M++){var W=n[L>>2],z=n[L+4>>2];L+=8;for(var U=0;U<z;U++)X=g,le=l[W+U],ne=void 0,ne=Ee[X],le===0||le===10?((X===1?m:B)(Be(ne,0)),ne.length=0):ne.push(le);G+=z}var X,le,ne;return n[w>>2]=G,0}},ie=function(){var g,L,R,w,G={env:xe,wasi_snapshot_preview1:xe};function M(W,z){var U,X=W.exports;return O=(ie=X).memory,r(),ie.__indirect_function_table,U=ie.__wasm_call_ctors,c.unshift(U),function(le){if(_--,a.monitorRunDependencies&&a.monitorRunDependencies(_),_==0&&x){var ne=x;x=null,ne()}}(),X}if(_++,a.monitorRunDependencies&&a.monitorRunDependencies(_),a.instantiateWasm)try{return a.instantiateWasm(G,M)}catch(W){B(`Module.instantiateWasm callback failed with error: ${W}`),E(W)}return(g=k,L=H,R=G,w=function(W){M(W.instance)},g||typeof WebAssembly.instantiateStreaming!="function"||Z(L)||typeof fetch!="function"?Q(L,R,w):fetch(L,{credentials:"same-origin"}).then(W=>WebAssembly.instantiateStreaming(W,R).then(w,function(z){return B(`wasm streaming compile failed: ${z}`),B("falling back to ArrayBuffer instantiation"),Q(L,R,w)}))).catch(E),{}}(),ce=g=>(ce=ie.malloc)(g),Le=g=>(Le=ie.free)(g);function Ie(){function g(){De||(De=!0,a.calledRun=!0,s||(oe(c),C(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),function(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)L=a.postRun.shift(),d.unshift(L);var L;oe(d)}()))}_>0||(function(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)L=a.preRun.shift(),o.unshift(L);var L;oe(o)}(),_>0||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),g()},1)):g()))}if(a._omalloc=g=>(a._omalloc=ie.omalloc)(g),a._ofree=g=>(a._ofree=ie.ofree)(g),a._getLastOnigError=()=>(a._getLastOnigError=ie.getLastOnigError)(),a._createOnigScanner=(g,L,R,w,G)=>(a._createOnigScanner=ie.createOnigScanner)(g,L,R,w,G),a._freeOnigScanner=g=>(a._freeOnigScanner=ie.freeOnigScanner)(g),a._findNextOnigScannerMatch=(g,L,R,w,G,M)=>(a._findNextOnigScannerMatch=ie.findNextOnigScannerMatch)(g,L,R,w,G,M),a._findNextOnigScannerMatchDbg=(g,L,R,w,G,M)=>(a._findNextOnigScannerMatchDbg=ie.findNextOnigScannerMatchDbg)(g,L,R,w,G,M),a.__embind_initialize_bindings=()=>(a.__embind_initialize_bindings=ie._embind_initialize_bindings)(),a.dynCall_jiji=(g,L,R,w,G)=>(a.dynCall_jiji=ie.dynCall_jiji)(g,L,R,w,G),a.UTF8ToString=Re,x=function g(){De||Ie(),De||(x=g)},a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return Ie(),y.ready});I.exports=t}},P={},function I(t){var y=P[t];if(y!==void 0)return y.exports;var C=P[t]={exports:{}};return A[t].call(C.exports,C,C.exports,I),C.exports}(770);var A,P})})(ot);var Ke=ot.exports;const Lt=["indentationRules.decreaseIndentPattern","indentationRules.increaseIndentPattern","indentationRules.indentNextLinePattern","indentationRules.unIndentedLinePattern","folding.markers.start","folding.markers.end","wordPattern"];function yt(V){const f=JSON.parse(V);for(const A of Lt){const P=St(f,A);typeof P=="string"&&At(f,A,new RegExp(P))}return f}function St(V,f){return f.split(".").reduce((P,I)=>P!=null?P[I]:null,V)}function At(V,f,A){const P=f.split("."),I=P.length-1;P.reduce((t,y,C)=>t==null?t:C===I?(t[y]=A,null):t[y],V)}var st={exports:{}};(function(V,f){(function(A,P){V.exports=P()})(it,()=>(()=>{var A={185:(I,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UseOnigurumaFindOptions=t.DebugFlags=void 0,t.DebugFlags={InDebugMode:typeof process<"u"&&!!{}.VSCODE_TEXTMATE_DEBUG},t.UseOnigurumaFindOptions=!1},151:(I,t,y)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyStateStackDiff=t.diffStateStacksRefEq=void 0;const C=y(752);t.diffStateStacksRefEq=function(E,a){let v=0;const u=[];let k=E,O=a;for(;k!==O;)k&&(!O||k.depth>=O.depth)?(v++,k=k.parent):(u.push(O.toStateStackFrame()),O=O.parent);return{pops:v,newFrames:u.reverse()}},t.applyStateStackDiff=function(E,a){let v=E;for(let u=0;u<a.pops;u++)v=v.parent;for(const u of a.newFrames)v=C.StateStackImpl.pushFrame(v,u);return v}},490:(I,t)=>{var y;Object.defineProperty(t,"__esModule",{value:!0}),t.toOptionalTokenType=t.EncodedTokenAttributes=void 0,(y=t.EncodedTokenAttributes||(t.EncodedTokenAttributes={})).toBinaryStr=function(C){return C.toString(2).padStart(32,"0")},y.print=function(C){const E=y.getLanguageId(C),a=y.getTokenType(C),v=y.getFontStyle(C),u=y.getForeground(C),k=y.getBackground(C);console.log({languageId:E,tokenType:a,fontStyle:v,foreground:u,background:k})},y.getLanguageId=function(C){return(255&C)>>>0},y.getTokenType=function(C){return(768&C)>>>8},y.containsBalancedBrackets=function(C){return!!(1024&C)},y.getFontStyle=function(C){return(30720&C)>>>11},y.getForeground=function(C){return(16744448&C)>>>15},y.getBackground=function(C){return(4278190080&C)>>>24},y.set=function(C,E,a,v,u,k,O){let m=y.getLanguageId(C),B=y.getTokenType(C),S=y.containsBalancedBrackets(C)?1:0,l=y.getFontStyle(C),D=y.getForeground(C),h=y.getBackground(C);return E!==0&&(m=E),a!==8&&(B=a),v!==null&&(S=v?1:0),u!==-1&&(l=u),k!==0&&(D=k),O!==0&&(h=O),(m|B<<8|S<<10|l<<11|D<<15|h<<24)>>>0},t.toOptionalTokenType=function(C){return C}},214:(I,t,y)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BasicScopeAttributesProvider=t.BasicScopeAttributes=void 0;const C=y(807);class E{constructor(k,O){this.languageId=k,this.tokenType=O}}t.BasicScopeAttributes=E;class a{constructor(k,O){this._getBasicScopeAttributes=new C.CachedFn(m=>{const B=this._scopeToLanguage(m),S=this._toStandardTokenType(m);return new E(B,S)}),this._defaultAttributes=new E(k,8),this._embeddedLanguagesMatcher=new v(Object.entries(O||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(k){return k===null?a._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(k)}_scopeToLanguage(k){return this._embeddedLanguagesMatcher.match(k)||0}_toStandardTokenType(k){const O=k.match(a.STANDARD_TOKEN_TYPE_REGEXP);if(!O)return 8;switch(O[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}}t.BasicScopeAttributesProvider=a,a._NULL_SCOPE_METADATA=new E(0,0),a.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;class v{constructor(k){if(k.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(k);const O=k.map(([m,B])=>C.escapeRegExpCharacters(m));O.sort(),O.reverse(),this.scopesRegExp=new RegExp(`^((${O.join(")|(")}))($|\\.)`,"")}}match(k){if(!this.scopesRegExp)return;const O=k.match(this.scopesRegExp);return O?this.values.get(O[1]):void 0}}},929:(I,t,y)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LineTokens=t.BalancedBracketSelectors=t.StateStackImpl=t.AttributedScopeStack=t.Grammar=t.createGrammar=void 0;const C=y(185),E=y(490),a=y(916),v=y(810),u=y(666),k=y(63),O=y(807),m=y(214),B=y(398);function S(s,r,o,c,d){const _=a.createMatchers(r,l),x=u.RuleFactory.getCompiledRuleId(o,c,d.repository);for(const N of _)s.push({debugSelector:r,matcher:N.matcher,ruleId:x,grammar:d,priority:N.priority})}function l(s,r){if(r.length<s.length)return!1;let o=0;return s.every(c=>{for(let d=o;d<r.length;d++)if(D(r[d],c))return o=d+1,!0;return!1})}function D(s,r){if(!s)return!1;if(s===r)return!0;const o=r.length;return s.length>o&&s.substr(0,o)===r&&s[o]==="."}t.createGrammar=function(s,r,o,c,d,_,x,N){return new h(s,r,o,c,d,_,x,N)};class h{constructor(r,o,c,d,_,x,N,H){if(this._rootScopeName=r,this.balancedBracketSelectors=x,this._onigLib=H,this._basicScopeAttributesProvider=new m.BasicScopeAttributesProvider(c,d),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=N,this._grammar=p(o,null),this._injections=null,this._tokenTypeMatchers=[],_)for(const K of Object.keys(_)){const Z=a.createMatchers(K,l);for(const j of Z)this._tokenTypeMatchers.push({matcher:j.matcher,type:_[K]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const r of this._ruleId2desc)r&&r.dispose()}createOnigScanner(r){return this._onigLib.createOnigScanner(r)}createOnigString(r){return this._onigLib.createOnigString(r)}getMetadataForScope(r){return this._basicScopeAttributesProvider.getBasicScopeAttributes(r)}_collectInjections(){const r=[],o=this._rootScopeName,c=(d=>d===this._rootScopeName?this._grammar:this.getExternalGrammar(d))(o);if(c){const d=c.injections;if(d)for(let x in d)S(r,x,d[x],this,c);const _=this._grammarRepository.injections(o);_&&_.forEach(x=>{const N=this.getExternalGrammar(x);if(N){const H=N.injectionSelector;H&&S(r,H,N,this,N)}})}return r.sort((d,_)=>d.priority-_.priority),r}getInjections(){if(this._injections===null&&(this._injections=this._collectInjections(),C.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const r of this._injections)console.log(`  - ${r.debugSelector}`)}return this._injections}registerRule(r){const o=++this._lastRuleId,c=r(u.ruleIdFromNumber(o));return this._ruleId2desc[o]=c,c}getRule(r){return this._ruleId2desc[u.ruleIdToNumber(r)]}getExternalGrammar(r,o){if(this._includedGrammars[r])return this._includedGrammars[r];if(this._grammarRepository){const c=this._grammarRepository.lookup(r);if(c)return this._includedGrammars[r]=p(c,o&&o.$base),this._includedGrammars[r]}}tokenizeLine(r,o,c=0){const d=this._tokenize(r,o,!1,c);return{tokens:d.lineTokens.getResult(d.ruleStack,d.lineLength),ruleStack:d.ruleStack,stoppedEarly:d.stoppedEarly}}tokenizeLine2(r,o,c=0){const d=this._tokenize(r,o,!0,c);return{tokens:d.lineTokens.getBinaryResult(d.ruleStack,d.lineLength),ruleStack:d.ruleStack,stoppedEarly:d.stoppedEarly}}_tokenize(r,o,c,d){let _;if(this._rootId===-1&&(this._rootId=u.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),o&&o!==e.NULL)_=!1,o.reset();else{_=!0;const Z=this._basicScopeAttributesProvider.getDefaultAttributes(),j=this.themeProvider.getDefaults(),Q=E.EncodedTokenAttributes.set(0,Z.languageId,Z.tokenType,null,j.fontStyle,j.foregroundId,j.backgroundId),oe=this.getRule(this._rootId).getName(null,null);let te;te=oe?n.createRootAndLookUpScopeName(oe,Q,this):n.createRoot("unknown",Q),o=new e(null,this._rootId,-1,-1,!1,null,te,te)}r+=`
`;const x=this.createOnigString(r),N=x.content.length,H=new i(c,r,this._tokenTypeMatchers,this.balancedBracketSelectors),K=B._tokenizeString(this,x,_,0,o,H,!0,d);return v.disposeOnigString(x),{lineLength:N,lineTokens:H,ruleStack:K.stack,stoppedEarly:K.stoppedEarly}}}function p(s,r){return(s=O.clone(s)).repository=s.repository||{},s.repository.$self={$vscodeTextmateLocation:s.$vscodeTextmateLocation,patterns:s.patterns,name:s.scopeName},s.repository.$base=r||s.repository.$self,s}t.Grammar=h;class n{constructor(r,o,c){this.parent=r,this.scopePath=o,this.tokenAttributes=c}static fromExtension(r,o){let c=r,d=(r==null?void 0:r.scopePath)??null;for(const _ of o)d=k.ScopeStack.push(d,_.scopeNames),c=new n(c,d,_.encodedTokenAttributes);return c}static createRoot(r,o){return new n(null,new k.ScopeStack(null,r),o)}static createRootAndLookUpScopeName(r,o,c){const d=c.getMetadataForScope(r),_=new k.ScopeStack(null,r),x=c.themeProvider.themeMatch(_),N=n.mergeAttributes(o,d,x);return new n(null,_,N)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(r){return n.equals(this,r)}static equals(r,o){for(;;){if(r===o||!r&&!o)return!0;if(!r||!o||r.scopeName!==o.scopeName||r.tokenAttributes!==o.tokenAttributes)return!1;r=r.parent,o=o.parent}}static mergeAttributes(r,o,c){let d=-1,_=0,x=0;return c!==null&&(d=c.fontStyle,_=c.foregroundId,x=c.backgroundId),E.EncodedTokenAttributes.set(r,o.languageId,o.tokenType,null,d,_,x)}pushAttributed(r,o){if(r===null)return this;if(r.indexOf(" ")===-1)return n._pushAttributed(this,r,o);const c=r.split(/ /g);let d=this;for(const _ of c)d=n._pushAttributed(d,_,o);return d}static _pushAttributed(r,o,c){const d=c.getMetadataForScope(o),_=r.scopePath.push(o),x=c.themeProvider.themeMatch(_),N=n.mergeAttributes(r.tokenAttributes,d,x);return new n(r,_,N)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(r){var d;const o=[];let c=this;for(;c&&c!==r;)o.push({encodedTokenAttributes:c.tokenAttributes,scopeNames:c.scopePath.getExtensionIfDefined(((d=c.parent)==null?void 0:d.scopePath)??null)}),c=c.parent;return c===r?o.reverse():void 0}}t.AttributedScopeStack=n;class e{constructor(r,o,c,d,_,x,N,H){this.parent=r,this.ruleId=o,this.beginRuleCapturedEOL=_,this.endRule=x,this.nameScopesList=N,this.contentNameScopesList=H,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=c,this._anchorPos=d}equals(r){return r!==null&&e._equals(this,r)}static _equals(r,o){return r===o||!!this._structuralEquals(r,o)&&n.equals(r.contentNameScopesList,o.contentNameScopesList)}static _structuralEquals(r,o){for(;;){if(r===o||!r&&!o)return!0;if(!r||!o||r.depth!==o.depth||r.ruleId!==o.ruleId||r.endRule!==o.endRule)return!1;r=r.parent,o=o.parent}}clone(){return this}static _reset(r){for(;r;)r._enterPos=-1,r._anchorPos=-1,r=r.parent}reset(){e._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(r,o,c,d,_,x,N){return new e(this,r,o,c,d,_,x,N)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(r){return r.getRule(this.ruleId)}toString(){const r=[];return this._writeString(r,0),"["+r.join(",")+"]"}_writeString(r,o){var c,d;return this.parent&&(o=this.parent._writeString(r,o)),r[o++]=`(${this.ruleId}, ${(c=this.nameScopesList)==null?void 0:c.toString()}, ${(d=this.contentNameScopesList)==null?void 0:d.toString()})`,o}withContentNameScopesList(r){return this.contentNameScopesList===r?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,r)}withEndRule(r){return this.endRule===r?this:new e(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,r,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(r){let o=this;for(;o&&o._enterPos===r._enterPos;){if(o.ruleId===r.ruleId)return!0;o=o.parent}return!1}toStateStackFrame(){var r,o,c;return{ruleId:u.ruleIdToNumber(this.ruleId),beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((o=this.nameScopesList)==null?void 0:o.getExtensionIfDefined(((r=this.parent)==null?void 0:r.nameScopesList)??null))??[],contentNameScopesList:((c=this.contentNameScopesList)==null?void 0:c.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(r,o){const c=n.fromExtension((r==null?void 0:r.nameScopesList)??null,o.nameScopesList);return new e(r,u.ruleIdFromNumber(o.ruleId),o.enterPos??-1,o.anchorPos??-1,o.beginRuleCapturedEOL,o.endRule,c,n.fromExtension(c,o.contentNameScopesList))}}t.StateStackImpl=e,e.NULL=new e(null,0,0,0,!1,null,null,null),t.BalancedBracketSelectors=class{constructor(s,r){this.allowAny=!1,this.balancedBracketScopes=s.flatMap(o=>o==="*"?(this.allowAny=!0,[]):a.createMatchers(o,l).map(c=>c.matcher)),this.unbalancedBracketScopes=r.flatMap(o=>a.createMatchers(o,l).map(c=>c.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(s){for(const r of this.unbalancedBracketScopes)if(r(s))return!1;for(const r of this.balancedBracketScopes)if(r(s))return!0;return this.allowAny}};class i{constructor(r,o,c,d){this.balancedBracketSelectors=d,this._emitBinaryTokens=r,this._tokenTypeOverrides=c,C.DebugFlags.InDebugMode?this._lineText=o:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(r,o){this.produceFromScopes(r.contentNameScopesList,o)}produceFromScopes(r,o){var d;if(this._lastTokenEndIndex>=o)return;if(this._emitBinaryTokens){let _=(r==null?void 0:r.tokenAttributes)??0,x=!1;if((d=this.balancedBracketSelectors)!=null&&d.matchesAlways&&(x=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const N=(r==null?void 0:r.getScopeNames())??[];for(const H of this._tokenTypeOverrides)H.matcher(N)&&(_=E.EncodedTokenAttributes.set(_,0,E.toOptionalTokenType(H.type),null,-1,0,0));this.balancedBracketSelectors&&(x=this.balancedBracketSelectors.match(N))}if(x&&(_=E.EncodedTokenAttributes.set(_,0,8,x,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===_)return void(this._lastTokenEndIndex=o);if(C.DebugFlags.InDebugMode){const N=(r==null?void 0:r.getScopeNames())??[];console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,o).replace(/\n$/,"\\n")+"|");for(let H=0;H<N.length;H++)console.log("      * "+N[H])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(_),void(this._lastTokenEndIndex=o)}const c=(r==null?void 0:r.getScopeNames())??[];if(C.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,o).replace(/\n$/,"\\n")+"|");for(let _=0;_<c.length;_++)console.log("      * "+c[_])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:o,scopes:c}),this._lastTokenEndIndex=o}getResult(r,o){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===o-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(r,o),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(r,o){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===o-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(r,o),this._binaryTokens[this._binaryTokens.length-2]=0);const c=new Uint32Array(this._binaryTokens.length);for(let d=0,_=this._binaryTokens.length;d<_;d++)c[d]=this._binaryTokens[d];return c}}t.LineTokens=i},784:(I,t,y)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseInclude=t.TopLevelRepositoryReference=t.TopLevelReference=t.RelativeReference=t.SelfReference=t.BaseReference=t.ScopeDependencyProcessor=t.ExternalReferenceCollector=t.TopLevelRepositoryRuleReference=t.TopLevelRuleReference=void 0;const C=y(807);class E{constructor(e){this.scopeName=e}toKey(){return this.scopeName}}t.TopLevelRuleReference=E;class a{constructor(e,i){this.scopeName=e,this.ruleName=i}toKey(){return`${this.scopeName}#${this.ruleName}`}}t.TopLevelRepositoryRuleReference=a;class v{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(e){const i=e.toKey();this._seenReferenceKeys.has(i)||(this._seenReferenceKeys.add(i),this._references.push(e))}}function u(n,e,i,s){const r=i.lookup(n.scopeName);if(!r){if(n.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const o=i.lookup(e);n instanceof E?O({baseGrammar:o,selfGrammar:r},s):k(n.ruleName,{baseGrammar:o,selfGrammar:r,repository:r.repository},s);const c=i.injections(n.scopeName);if(c)for(const d of c)s.add(new E(d))}function k(n,e,i){e.repository&&e.repository[n]&&m([e.repository[n]],e,i)}function O(n,e){n.selfGrammar.patterns&&Array.isArray(n.selfGrammar.patterns)&&m(n.selfGrammar.patterns,{...n,repository:n.selfGrammar.repository},e),n.selfGrammar.injections&&m(Object.values(n.selfGrammar.injections),{...n,repository:n.selfGrammar.repository},e)}function m(n,e,i){for(const s of n){if(i.visitedRule.has(s))continue;i.visitedRule.add(s);const r=s.repository?C.mergeObjects({},e.repository,s.repository):e.repository;Array.isArray(s.patterns)&&m(s.patterns,{...e,repository:r},i);const o=s.include;if(!o)continue;const c=p(o);switch(c.kind){case 0:O({...e,selfGrammar:e.baseGrammar},i);break;case 1:O(e,i);break;case 2:k(c.ruleName,{...e,repository:r},i);break;case 3:case 4:const d=c.scopeName===e.selfGrammar.scopeName?e.selfGrammar:c.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(d){const _={baseGrammar:e.baseGrammar,selfGrammar:d,repository:r};c.kind===4?k(c.ruleName,_,i):O(_,i)}else c.kind===4?i.add(new a(c.scopeName,c.ruleName)):i.add(new E(c.scopeName))}}}t.ExternalReferenceCollector=v,t.ScopeDependencyProcessor=class{constructor(n,e){this.repo=n,this.initialScopeName=e,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new E(this.initialScopeName)]}processQueue(){const n=this.Q;this.Q=[];const e=new v;for(const i of n)u(i,this.initialScopeName,this.repo,e);for(const i of e.references)if(i instanceof E){if(this.seenFullScopeRequests.has(i.scopeName))continue;this.seenFullScopeRequests.add(i.scopeName),this.Q.push(i)}else{if(this.seenFullScopeRequests.has(i.scopeName)||this.seenPartialScopeRequests.has(i.toKey()))continue;this.seenPartialScopeRequests.add(i.toKey()),this.Q.push(i)}}};class B{constructor(){this.kind=0}}t.BaseReference=B;class S{constructor(){this.kind=1}}t.SelfReference=S;class l{constructor(e){this.ruleName=e,this.kind=2}}t.RelativeReference=l;class D{constructor(e){this.scopeName=e,this.kind=3}}t.TopLevelReference=D;class h{constructor(e,i){this.scopeName=e,this.ruleName=i,this.kind=4}}function p(n){if(n==="$base")return new B;if(n==="$self")return new S;const e=n.indexOf("#");if(e===-1)return new D(n);if(e===0)return new l(n.substring(1));{const i=n.substring(0,e),s=n.substring(e+1);return new h(i,s)}}t.TopLevelRepositoryReference=h,t.parseInclude=p},752:function(I,t,y){var C=this&&this.__createBinding||(Object.create?function(a,v,u,k){k===void 0&&(k=u),Object.defineProperty(a,k,{enumerable:!0,get:function(){return v[u]}})}:function(a,v,u,k){k===void 0&&(k=u),a[k]=v[u]}),E=this&&this.__exportStar||function(a,v){for(var u in a)u==="default"||Object.prototype.hasOwnProperty.call(v,u)||C(v,a,u)};Object.defineProperty(t,"__esModule",{value:!0}),E(y(929),t)},398:(I,t,y)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStackElement=t._tokenizeString=void 0;const C=y(185),E=y(810),a=y(666),v=y(807);class u{constructor(h,p){this.stack=h,this.stoppedEarly=p}}function k(D,h,p,n,e,i,s,r){const o=h.content.length;let c=!1,d=-1;if(s){const N=function(H,K,Z,j,Q,oe){let te=Q.beginRuleCapturedEOL?0:-1;const $=[];for(let q=Q;q;q=q.pop()){const Y=q.getRule(H);Y instanceof a.BeginWhileRule&&$.push({rule:Y,stack:q})}for(let q=$.pop();q;q=$.pop()){const{ruleScanner:Y,findOptions:pe}=m(q.rule,H,q.stack.endRule,Z,j===te),T=Y.findNextMatchSync(K,j,pe);if(C.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(Y.toString())),!T){C.DebugFlags.InDebugMode&&console.log("  popping "+q.rule.debugName+" - "+q.rule.debugWhileRegExp),Q=q.stack.pop();break}if(T.ruleId!==a.whileRuleId){Q=q.stack.pop();break}T.captureIndices&&T.captureIndices.length&&(oe.produce(q.stack,T.captureIndices[0].start),S(H,K,Z,q.stack,oe,q.rule.whileCaptures,T.captureIndices),oe.produce(q.stack,T.captureIndices[0].end),te=T.captureIndices[0].end,T.captureIndices[0].end>j&&(j=T.captureIndices[0].end,Z=!1))}return{stack:Q,linePos:j,anchorPosition:te,isFirstLine:Z}}(D,h,p,n,e,i);e=N.stack,n=N.linePos,p=N.isFirstLine,d=N.anchorPosition}const _=Date.now();for(;!c;){if(r!==0&&Date.now()-_>r)return new u(e,!0);x()}return new u(e,!1);function x(){C.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${n}: |${h.content.substr(n).replace(/\n$/,"\\n")}|`));const N=function(j,Q,oe,te,$,q){const Y=function(se,ve,ue,Fe,ae,be){const fe=ae.getRule(se),{ruleScanner:Ce,findOptions:_e}=O(fe,se,ae.endRule,ue,Fe===be);let ke=0;C.DebugFlags.InDebugMode&&(ke=v.performanceNow());const ge=Ce.findNextMatchSync(ve,Fe,_e);if(C.DebugFlags.InDebugMode){const ye=v.performanceNow()-ke;ye>5&&console.warn(`Rule ${fe.debugName} (${fe.id}) matching took ${ye} against '${ve}'`),console.log(`  scanning for (linePos: ${Fe}, anchorPosition: ${be})`),console.log(Ce.toString()),ge&&console.log(`matched rule id: ${ge.ruleId} from ${ge.captureIndices[0].start} to ${ge.captureIndices[0].end}`)}return ge?{captureIndices:ge.captureIndices,matchedRuleId:ge.ruleId}:null}(j,Q,oe,te,$,q),pe=j.getInjections();if(pe.length===0)return Y;const T=function(se,ve,ue,Fe,ae,be,fe){let Ce,_e=Number.MAX_VALUE,ke=null,ge=0;const ye=be.contentNameScopesList.getScopeNames();for(let Be=0,Re=se.length;Be<Re;Be++){const Te=se[Be];if(!Te.matcher(ye))continue;const Me=ve.getRule(Te.ruleId),{ruleScanner:Ne,findOptions:He}=O(Me,ve,null,Fe,ae===fe),Oe=Ne.findNextMatchSync(ue,ae,He);if(!Oe)continue;C.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${Te.debugSelector}`),console.log(Ne.toString()));const Pe=Oe.captureIndices[0].start;if(!(Pe>=_e)&&(_e=Pe,ke=Oe.captureIndices,Ce=Oe.ruleId,ge=Te.priority,_e===ae))break}return ke?{priorityMatch:ge===-1,captureIndices:ke,matchedRuleId:Ce}:null}(pe,j,Q,oe,te,$,q);if(!T)return Y;if(!Y)return T;const re=Y.captureIndices[0].start,J=T.captureIndices[0].start;return J<re||T.priorityMatch&&J===re?T:Y}(D,h,p,n,e,d);if(!N)return C.DebugFlags.InDebugMode&&console.log("  no more matches."),i.produce(e,o),void(c=!0);const H=N.captureIndices,K=N.matchedRuleId,Z=!!(H&&H.length>0)&&H[0].end>n;if(K===a.endRuleId){const j=e.getRule(D);C.DebugFlags.InDebugMode&&console.log("  popping "+j.debugName+" - "+j.debugEndRegExp),i.produce(e,H[0].start),e=e.withContentNameScopesList(e.nameScopesList),S(D,h,p,e,i,j.endCaptures,H),i.produce(e,H[0].end);const Q=e;if(e=e.parent,d=Q.getAnchorPos(),!Z&&Q.getEnterPos()===n)return C.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),e=Q,i.produce(e,o),void(c=!0)}else{const j=D.getRule(K);i.produce(e,H[0].start);const Q=e,oe=j.getName(h.content,H),te=e.contentNameScopesList.pushAttributed(oe,D);if(e=e.push(K,n,d,H[0].end===o,null,te,te),j instanceof a.BeginEndRule){const $=j;C.DebugFlags.InDebugMode&&console.log("  pushing "+$.debugName+" - "+$.debugBeginRegExp),S(D,h,p,e,i,$.beginCaptures,H),i.produce(e,H[0].end),d=H[0].end;const q=$.getContentName(h.content,H),Y=te.pushAttributed(q,D);if(e=e.withContentNameScopesList(Y),$.endHasBackReferences&&(e=e.withEndRule($.getEndWithResolvedBackReferences(h.content,H))),!Z&&Q.hasSameRuleAs(e))return C.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),e=e.pop(),i.produce(e,o),void(c=!0)}else if(j instanceof a.BeginWhileRule){const $=j;C.DebugFlags.InDebugMode&&console.log("  pushing "+$.debugName),S(D,h,p,e,i,$.beginCaptures,H),i.produce(e,H[0].end),d=H[0].end;const q=$.getContentName(h.content,H),Y=te.pushAttributed(q,D);if(e=e.withContentNameScopesList(Y),$.whileHasBackReferences&&(e=e.withEndRule($.getWhileWithResolvedBackReferences(h.content,H))),!Z&&Q.hasSameRuleAs(e))return C.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),e=e.pop(),i.produce(e,o),void(c=!0)}else{const $=j;if(C.DebugFlags.InDebugMode&&console.log("  matched "+$.debugName+" - "+$.debugMatchRegExp),S(D,h,p,e,i,$.captures,H),i.produce(e,H[0].end),e=e.pop(),!Z)return C.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),e=e.safePop(),i.produce(e,o),void(c=!0)}}H[0].end>n&&(n=H[0].end,p=!1)}}function O(D,h,p,n,e){return C.UseOnigurumaFindOptions?{ruleScanner:D.compile(h,p),findOptions:B(n,e)}:{ruleScanner:D.compileAG(h,p,n,e),findOptions:0}}function m(D,h,p,n,e){return C.UseOnigurumaFindOptions?{ruleScanner:D.compileWhile(h,p),findOptions:B(n,e)}:{ruleScanner:D.compileWhileAG(h,p,n,e),findOptions:0}}function B(D,h){let p=0;return D||(p|=1),h||(p|=4),p}function S(D,h,p,n,e,i,s){if(i.length===0)return;const r=h.content,o=Math.min(i.length,s.length),c=[],d=s[0].end;for(let _=0;_<o;_++){const x=i[_];if(x===null)continue;const N=s[_];if(N.length===0)continue;if(N.start>d)break;for(;c.length>0&&c[c.length-1].endPos<=N.start;)e.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?e.produceFromScopes(c[c.length-1].scopes,N.start):e.produce(n,N.start),x.retokenizeCapturedWithRuleId){const K=x.getName(r,s),Z=n.contentNameScopesList.pushAttributed(K,D),j=x.getContentName(r,s),Q=Z.pushAttributed(j,D),oe=n.push(x.retokenizeCapturedWithRuleId,N.start,-1,!1,null,Z,Q),te=D.createOnigString(r.substring(0,N.end));k(D,te,p&&N.start===0,N.start,oe,e,!1,0),E.disposeOnigString(te);continue}const H=x.getName(r,s);if(H!==null){const K=(c.length>0?c[c.length-1].scopes:n.contentNameScopesList).pushAttributed(H,D);c.push(new l(K,N.end))}}for(;c.length>0;)e.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}t._tokenizeString=k;class l{constructor(h,p){this.scopes=h,this.endPos=p}}t.LocalStackElement=l},726:(I,t)=>{function y(v,u){throw new Error("Near offset "+v.pos+": "+u+" ~~~"+v.source.substr(v.pos,50)+"~~~")}Object.defineProperty(t,"__esModule",{value:!0}),t.parseJSON=void 0,t.parseJSON=function(v,u,k){let O=new C(v),m=new E,B=0,S=null,l=[],D=[];function h(){l.push(B),D.push(S)}function p(){B=l.pop(),S=D.pop()}function n(e){y(O,e)}for(;a(O,m);){if(B===0){if(S!==null&&n("too many constructs in root"),m.type===3){S={},k&&(S.$vscodeTextmateLocation=m.toLocation(u)),h(),B=1;continue}if(m.type===2){S=[],h(),B=4;continue}n("unexpected token in root")}if(B===2){if(m.type===5){p();continue}if(m.type===7){B=3;continue}n("expected , or }")}if(B===1||B===3){if(B===1&&m.type===5){p();continue}if(m.type===1){let e=m.value;if(a(O,m)&&m.type===6||n("expected colon"),a(O,m)||n("expected value"),B=2,m.type===1){S[e]=m.value;continue}if(m.type===8){S[e]=null;continue}if(m.type===9){S[e]=!0;continue}if(m.type===10){S[e]=!1;continue}if(m.type===11){S[e]=parseFloat(m.value);continue}if(m.type===2){let i=[];S[e]=i,h(),B=4,S=i;continue}if(m.type===3){let i={};k&&(i.$vscodeTextmateLocation=m.toLocation(u)),S[e]=i,h(),B=1,S=i;continue}}n("unexpected token in dict")}if(B===5){if(m.type===4){p();continue}if(m.type===7){B=6;continue}n("expected , or ]")}if(B===4||B===6){if(B===4&&m.type===4){p();continue}if(B=5,m.type===1){S.push(m.value);continue}if(m.type===8){S.push(null);continue}if(m.type===9){S.push(!0);continue}if(m.type===10){S.push(!1);continue}if(m.type===11){S.push(parseFloat(m.value));continue}if(m.type===2){let e=[];S.push(e),h(),B=4,S=e;continue}if(m.type===3){let e={};k&&(e.$vscodeTextmateLocation=m.toLocation(u)),S.push(e),h(),B=1,S=e;continue}n("unexpected token in array")}n("unknown state")}return D.length!==0&&n("unclosed constructs"),S};class C{constructor(u){this.source=u,this.pos=0,this.len=u.length,this.line=1,this.char=0}}class E{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(u){return{filename:u,line:this.line,char:this.char}}}function a(v,u){u.value=null,u.type=0,u.offset=-1,u.len=-1,u.line=-1,u.char=-1;let k,O=v.source,m=v.pos,B=v.len,S=v.line,l=v.char;for(;;){if(m>=B)return!1;if(k=O.charCodeAt(m),k!==32&&k!==9&&k!==13){if(k!==10)break;m++,S++,l=0}else m++,l++}if(u.offset=m,u.line=S,u.char=l,k===34){for(u.type=1,m++,l++;;){if(m>=B)return!1;if(k=O.charCodeAt(m),m++,l++,k!==92){if(k===34)break}else m++,l++}u.value=O.substring(u.offset+1,m-1).replace(/\\u([0-9A-Fa-f]{4})/g,(D,h)=>String.fromCodePoint(parseInt(h,16))).replace(/\\(.)/g,(D,h)=>{switch(h){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:y(v,"invalid escape sequence")}throw new Error("unreachable")})}else if(k===91)u.type=2,m++,l++;else if(k===123)u.type=3,m++,l++;else if(k===93)u.type=4,m++,l++;else if(k===125)u.type=5,m++,l++;else if(k===58)u.type=6,m++,l++;else if(k===44)u.type=7,m++,l++;else if(k===110){if(u.type=8,m++,l++,k=O.charCodeAt(m),k!==117||(m++,l++,k=O.charCodeAt(m),k!==108)||(m++,l++,k=O.charCodeAt(m),k!==108))return!1;m++,l++}else if(k===116){if(u.type=9,m++,l++,k=O.charCodeAt(m),k!==114||(m++,l++,k=O.charCodeAt(m),k!==117)||(m++,l++,k=O.charCodeAt(m),k!==101))return!1;m++,l++}else if(k===102){if(u.type=10,m++,l++,k=O.charCodeAt(m),k!==97||(m++,l++,k=O.charCodeAt(m),k!==108)||(m++,l++,k=O.charCodeAt(m),k!==115)||(m++,l++,k=O.charCodeAt(m),k!==101))return!1;m++,l++}else for(u.type=11;;){if(m>=B)return!1;if(k=O.charCodeAt(m),!(k===46||k>=48&&k<=57||k===101||k===69||k===45||k===43))break;m++,l++}return u.len=m-u.offset,u.value===null&&(u.value=O.substr(u.offset,u.len)),v.pos=m,v.line=S,v.char=l,!0}},625:function(I,t,y){var C=this&&this.__createBinding||(Object.create?function(B,S,l,D){D===void 0&&(D=l),Object.defineProperty(B,D,{enumerable:!0,get:function(){return S[l]}})}:function(B,S,l,D){D===void 0&&(D=l),B[D]=S[l]}),E=this&&this.__exportStar||function(B,S){for(var l in B)l==="default"||Object.prototype.hasOwnProperty.call(S,l)||C(S,B,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.applyStateStackDiff=t.diffStateStacksRefEq=t.parseRawGrammar=t.INITIAL=t.Registry=void 0;const a=y(752),v=y(150),u=y(583),k=y(63),O=y(784),m=y(151);Object.defineProperty(t,"applyStateStackDiff",{enumerable:!0,get:function(){return m.applyStateStackDiff}}),Object.defineProperty(t,"diffStateStacksRefEq",{enumerable:!0,get:function(){return m.diffStateStacksRefEq}}),E(y(810),t),t.Registry=class{constructor(B){this._options=B,this._syncRegistry=new u.SyncRegistry(k.Theme.createFromRawTheme(B.theme,B.colorMap),B.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(B,S){this._syncRegistry.setTheme(k.Theme.createFromRawTheme(B,S))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(B,S,l){return this.loadGrammarWithConfiguration(B,S,{embeddedLanguages:l})}loadGrammarWithConfiguration(B,S,l){return this._loadGrammar(B,S,l.embeddedLanguages,l.tokenTypes,new a.BalancedBracketSelectors(l.balancedBracketSelectors||[],l.unbalancedBracketSelectors||[]))}loadGrammar(B){return this._loadGrammar(B,0,null,null,null)}async _loadGrammar(B,S,l,D,h){const p=new O.ScopeDependencyProcessor(this._syncRegistry,B);for(;p.Q.length>0;)await Promise.all(p.Q.map(n=>this._loadSingleGrammar(n.scopeName))),p.processQueue();return this._grammarForScopeName(B,S,l,D,h)}async _loadSingleGrammar(B){return this._ensureGrammarCache.has(B)||this._ensureGrammarCache.set(B,this._doLoadSingleGrammar(B)),this._ensureGrammarCache.get(B)}async _doLoadSingleGrammar(B){const S=await this._options.loadGrammar(B);if(S){const l=typeof this._options.getInjections=="function"?this._options.getInjections(B):void 0;this._syncRegistry.addGrammar(S,l)}}async addGrammar(B,S=[],l=0,D=null){return this._syncRegistry.addGrammar(B,S),await this._grammarForScopeName(B.scopeName,l,D)}_grammarForScopeName(B,S=0,l=null,D=null,h=null){return this._syncRegistry.grammarForScopeName(B,S,l,D,h)}},t.INITIAL=a.StateStackImpl.NULL,t.parseRawGrammar=v.parseRawGrammar},916:(I,t)=>{function y(C){return!!C&&!!C.match(/[\w\.:]+/)}Object.defineProperty(t,"__esModule",{value:!0}),t.createMatchers=void 0,t.createMatchers=function(C,E){const a=[],v=function(m){let B=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,S=B.exec(m);return{next:()=>{if(!S)return null;const l=S[0];return S=B.exec(m),l}}}(C);let u=v.next();for(;u!==null;){let m=0;if(u.length===2&&u.charAt(1)===":"){switch(u.charAt(0)){case"R":m=1;break;case"L":m=-1;break;default:console.log(`Unknown priority ${u} in scope selector`)}u=v.next()}let B=O();if(a.push({matcher:B,priority:m}),u!==",")break;u=v.next()}return a;function k(){if(u==="-"){u=v.next();const m=k();return B=>!!m&&!m(B)}if(u==="("){u=v.next();const m=function(){const B=[];let S=O();for(;S&&(B.push(S),u==="|"||u===",");){do u=v.next();while(u==="|"||u===",");S=O()}return l=>B.some(D=>D(l))}();return u===")"&&(u=v.next()),m}if(y(u)){const m=[];do m.push(u),u=v.next();while(y(u));return B=>E(m,B)}return null}function O(){const m=[];let B=k();for(;B;)m.push(B),B=k();return S=>m.every(l=>l(S))}}},810:(I,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.disposeOnigString=void 0,t.disposeOnigString=function(y){typeof y.dispose=="function"&&y.dispose()}},150:(I,t,y)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseRawGrammar=void 0;const C=y(578),E=y(185),a=y(726);t.parseRawGrammar=function(v,u=null){return u!==null&&/\.json$/.test(u)?(k=v,O=u,E.DebugFlags.InDebugMode?a.parseJSON(k,O,!0):JSON.parse(k)):function(m,B){return E.DebugFlags.InDebugMode?C.parseWithLocation(m,B,"$vscodeTextmateLocation"):C.parsePLIST(m)}(v,u);var k,O}},578:(I,t)=>{function y(C,E,a){const v=C.length;let u=0,k=1,O=0;function m(T){if(a===null)u+=T;else for(;T>0;)C.charCodeAt(u)===10?(u++,k++,O=0):(u++,O++),T--}function B(T){a===null?u=T:m(T-u)}function S(){for(;u<v;){let T=C.charCodeAt(u);if(T!==32&&T!==9&&T!==13&&T!==10)break;m(1)}}function l(T){return C.substr(u,T.length)===T&&(m(T.length),!0)}function D(T){let re=C.indexOf(T,u);B(re!==-1?re+T.length:v)}function h(T){let re=C.indexOf(T,u);if(re!==-1){let J=C.substring(u,re);return B(re+T.length),J}{let J=C.substr(u);return B(v),J}}v>0&&C.charCodeAt(0)===65279&&(u=1);let p=0,n=null,e=[],i=[],s=null;function r(T,re){e.push(p),i.push(n),p=T,n=re}function o(){if(e.length===0)return c("illegal state stack");p=e.pop(),n=i.pop()}function c(T){throw new Error("Near offset "+u+": "+T+" ~~~"+C.substr(u,50)+"~~~")}const d=function(){if(s===null)return c("missing <key>");let T={};a!==null&&(T[a]={filename:E,line:k,char:O}),n[s]=T,s=null,r(1,T)},_=function(){if(s===null)return c("missing <key>");let T=[];n[s]=T,s=null,r(2,T)},x=function(){let T={};a!==null&&(T[a]={filename:E,line:k,char:O}),n.push(T),r(1,T)},N=function(){let T=[];n.push(T),r(2,T)};function H(){if(p!==1)return c("unexpected </dict>");o()}function K(){return p===1||p!==2?c("unexpected </array>"):void o()}function Z(T){if(p===1){if(s===null)return c("missing <key>");n[s]=T,s=null}else p===2?n.push(T):n=T}function j(T){if(isNaN(T))return c("cannot parse float");if(p===1){if(s===null)return c("missing <key>");n[s]=T,s=null}else p===2?n.push(T):n=T}function Q(T){if(isNaN(T))return c("cannot parse integer");if(p===1){if(s===null)return c("missing <key>");n[s]=T,s=null}else p===2?n.push(T):n=T}function oe(T){if(p===1){if(s===null)return c("missing <key>");n[s]=T,s=null}else p===2?n.push(T):n=T}function te(T){if(p===1){if(s===null)return c("missing <key>");n[s]=T,s=null}else p===2?n.push(T):n=T}function $(T){if(p===1){if(s===null)return c("missing <key>");n[s]=T,s=null}else p===2?n.push(T):n=T}function q(){let T=h(">"),re=!1;return T.charCodeAt(T.length-1)===47&&(re=!0,T=T.substring(0,T.length-1)),{name:T.trim(),isClosed:re}}function Y(T){if(T.isClosed)return"";let re=h("</");return D(">"),re.replace(/&#([0-9]+);/g,function(J,se){return String.fromCodePoint(parseInt(se,10))}).replace(/&#x([0-9a-f]+);/g,function(J,se){return String.fromCodePoint(parseInt(se,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(J){switch(J){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return J})}for(;u<v&&(S(),!(u>=v));){const T=C.charCodeAt(u);if(m(1),T!==60)return c("expected <");if(u>=v)return c("unexpected end of input");const re=C.charCodeAt(u);if(re===63){m(1),D("?>");continue}if(re===33){if(m(1),l("--")){D("-->");continue}D(">");continue}if(re===47){if(m(1),S(),l("plist")){D(">");continue}if(l("dict")){D(">"),H();continue}if(l("array")){D(">"),K();continue}return c("unexpected closed tag")}let J=q();switch(J.name){case"dict":p===1?d():p===2?x():(n={},a!==null&&(n[a]={filename:E,line:k,char:O}),r(1,n)),J.isClosed&&H();continue;case"array":p===1?_():p===2?N():(n=[],r(2,n)),J.isClosed&&K();continue;case"key":pe=Y(J),p!==1?c("unexpected <key>"):s!==null?c("too many <key>"):s=pe;continue;case"string":Z(Y(J));continue;case"real":j(parseFloat(Y(J)));continue;case"integer":Q(parseInt(Y(J),10));continue;case"date":oe(new Date(Y(J)));continue;case"data":te(Y(J));continue;case"true":Y(J),$(!0);continue;case"false":Y(J),$(!1);continue}if(!/^plist/.test(J.name))return c("unexpected opened tag "+J.name)}var pe;return n}Object.defineProperty(t,"__esModule",{value:!0}),t.parsePLIST=t.parseWithLocation=void 0,t.parseWithLocation=function(C,E,a){return y(C,E,a)},t.parsePLIST=function(C){return y(C,null,null)}},583:(I,t,y)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SyncRegistry=void 0;const C=y(752);t.SyncRegistry=class{constructor(E,a){this._onigLibPromise=a,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=E}dispose(){for(const E of this._grammars.values())E.dispose()}setTheme(E){this._theme=E}getColorMap(){return this._theme.getColorMap()}addGrammar(E,a){this._rawGrammars.set(E.scopeName,E),a&&this._injectionGrammars.set(E.scopeName,a)}lookup(E){return this._rawGrammars.get(E)}injections(E){return this._injectionGrammars.get(E)}getDefaults(){return this._theme.getDefaults()}themeMatch(E){return this._theme.match(E)}async grammarForScopeName(E,a,v,u,k){if(!this._grammars.has(E)){let O=this._rawGrammars.get(E);if(!O)return null;this._grammars.set(E,C.createGrammar(E,O,a,v,u,k,this,await this._onigLibPromise))}return this._grammars.get(E)}}},666:(I,t,y)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CompiledRule=t.RegExpSourceList=t.RegExpSource=t.RuleFactory=t.BeginWhileRule=t.BeginEndRule=t.IncludeOnlyRule=t.MatchRule=t.CaptureRule=t.Rule=t.ruleIdToNumber=t.ruleIdFromNumber=t.whileRuleId=t.endRuleId=void 0;const C=y(807),E=y(784),a=/\\(\d+)/,v=/\\(\d+)/g;t.endRuleId=-1,t.whileRuleId=-2,t.ruleIdFromNumber=function(n){return n},t.ruleIdToNumber=function(n){return n};class u{constructor(e,i,s,r){this.$location=e,this.id=i,this._name=s||null,this._nameIsCapturing=C.RegexSource.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=C.RegexSource.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${C.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,i){return this._nameIsCapturing&&this._name!==null&&e!==null&&i!==null?C.RegexSource.replaceCaptures(this._name,e,i):this._name}getContentName(e,i){return this._contentNameIsCapturing&&this._contentName!==null?C.RegexSource.replaceCaptures(this._contentName,e,i):this._contentName}}t.Rule=u;class k extends u{constructor(e,i,s,r,o){super(e,i,s,r),this.retokenizeCapturedWithRuleId=o}dispose(){}collectPatterns(e,i){throw new Error("Not supported!")}compile(e,i){throw new Error("Not supported!")}compileAG(e,i,s,r){throw new Error("Not supported!")}}t.CaptureRule=k;class O extends u{constructor(e,i,s,r,o){super(e,i,s,null),this._match=new D(r,this.id),this.captures=o,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,i){i.push(this._match)}compile(e,i){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,i,s,r){return this._getCachedCompiledPatterns(e).compileAG(e,s,r)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new h,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}t.MatchRule=O;class m extends u{constructor(e,i,s,r,o){super(e,i,s,r),this.patterns=o.patterns,this.hasMissingPatterns=o.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,i){for(const s of this.patterns)e.getRule(s).collectPatterns(e,i)}compile(e,i){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,i,s,r){return this._getCachedCompiledPatterns(e).compileAG(e,s,r)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new h,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}t.IncludeOnlyRule=m;class B extends u{constructor(e,i,s,r,o,c,d,_,x,N){super(e,i,s,r),this._begin=new D(o,this.id),this.beginCaptures=c,this._end=new D(d||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=_,this.applyEndPatternLast=x||!1,this.patterns=N.patterns,this.hasMissingPatterns=N.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,i){return this._end.resolveBackReferences(e,i)}collectPatterns(e,i){i.push(this._begin)}compile(e,i){return this._getCachedCompiledPatterns(e,i).compile(e)}compileAG(e,i,s,r){return this._getCachedCompiledPatterns(e,i).compileAG(e,s,r)}_getCachedCompiledPatterns(e,i){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new h;for(const s of this.patterns)e.getRule(s).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,i):this._cachedCompiledPatterns.setSource(0,i)),this._cachedCompiledPatterns}}t.BeginEndRule=B;class S extends u{constructor(e,i,s,r,o,c,d,_,x){super(e,i,s,r),this._begin=new D(o,this.id),this.beginCaptures=c,this.whileCaptures=_,this._while=new D(d,t.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=x.patterns,this.hasMissingPatterns=x.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,i){return this._while.resolveBackReferences(e,i)}collectPatterns(e,i){i.push(this._begin)}compile(e,i){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,i,s,r){return this._getCachedCompiledPatterns(e).compileAG(e,s,r)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new h;for(const i of this.patterns)e.getRule(i).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,i){return this._getCachedCompiledWhilePatterns(e,i).compile(e)}compileWhileAG(e,i,s,r){return this._getCachedCompiledWhilePatterns(e,i).compileAG(e,s,r)}_getCachedCompiledWhilePatterns(e,i){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new h,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,i||""),this._cachedCompiledWhilePatterns}}t.BeginWhileRule=S;class l{static createCaptureRule(e,i,s,r,o){return e.registerRule(c=>new k(i,c,s,r,o))}static getCompiledRuleId(e,i,s){return e.id||i.registerRule(r=>{if(e.id=r,e.match)return new O(e.$vscodeTextmateLocation,e.id,e.name,e.match,l._compileCaptures(e.captures,i,s));if(e.begin===void 0){e.repository&&(s=C.mergeObjects({},s,e.repository));let o=e.patterns;return o===void 0&&e.include&&(o=[{include:e.include}]),new m(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,l._compilePatterns(o,i,s))}return e.while?new S(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,l._compileCaptures(e.beginCaptures||e.captures,i,s),e.while,l._compileCaptures(e.whileCaptures||e.captures,i,s),l._compilePatterns(e.patterns,i,s)):new B(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,l._compileCaptures(e.beginCaptures||e.captures,i,s),e.end,l._compileCaptures(e.endCaptures||e.captures,i,s),e.applyEndPatternLast,l._compilePatterns(e.patterns,i,s))}),e.id}static _compileCaptures(e,i,s){let r=[];if(e){let o=0;for(const c in e){if(c==="$vscodeTextmateLocation")continue;const d=parseInt(c,10);d>o&&(o=d)}for(let c=0;c<=o;c++)r[c]=null;for(const c in e){if(c==="$vscodeTextmateLocation")continue;const d=parseInt(c,10);let _=0;e[c].patterns&&(_=l.getCompiledRuleId(e[c],i,s)),r[d]=l.createCaptureRule(i,e[c].$vscodeTextmateLocation,e[c].name,e[c].contentName,_)}}return r}static _compilePatterns(e,i,s){let r=[];if(e)for(let o=0,c=e.length;o<c;o++){const d=e[o];let _=-1;if(d.include){const x=E.parseInclude(d.include);switch(x.kind){case 0:case 1:_=l.getCompiledRuleId(s[d.include],i,s);break;case 2:let N=s[x.ruleName];N&&(_=l.getCompiledRuleId(N,i,s));break;case 3:case 4:const H=x.scopeName,K=x.kind===4?x.ruleName:null,Z=i.getExternalGrammar(H,s);if(Z)if(K){let j=Z.repository[K];j&&(_=l.getCompiledRuleId(j,i,Z.repository))}else _=l.getCompiledRuleId(Z.repository.$self,i,Z.repository)}}else _=l.getCompiledRuleId(d,i,s);if(_!==-1){const x=i.getRule(_);let N=!1;if((x instanceof m||x instanceof B||x instanceof S)&&x.hasMissingPatterns&&x.patterns.length===0&&(N=!0),N)continue;r.push(_)}}return{patterns:r,hasMissingPatterns:(e?e.length:0)!==r.length}}}t.RuleFactory=l;class D{constructor(e,i){if(e){const s=e.length;let r=0,o=[],c=!1;for(let d=0;d<s;d++)if(e.charAt(d)==="\\"&&d+1<s){const _=e.charAt(d+1);_==="z"?(o.push(e.substring(r,d)),o.push("$(?!\\n)(?<!\\n)"),r=d+2):_!=="A"&&_!=="G"||(c=!0),d++}this.hasAnchor=c,r===0?this.source=e:(o.push(e.substring(r,s)),this.source=o.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=i,this.hasBackReferences=a.test(this.source)}clone(){return new D(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,i){let s=i.map(r=>e.substring(r.start,r.end));return v.lastIndex=0,this.source.replace(v,(r,o)=>C.escapeRegExpCharacters(s[parseInt(o,10)]||""))}_buildAnchorCache(){let e,i,s,r,o=[],c=[],d=[],_=[];for(e=0,i=this.source.length;e<i;e++)s=this.source.charAt(e),o[e]=s,c[e]=s,d[e]=s,_[e]=s,s==="\\"&&e+1<i&&(r=this.source.charAt(e+1),r==="A"?(o[e+1]="",c[e+1]="",d[e+1]="A",_[e+1]="A"):r==="G"?(o[e+1]="",c[e+1]="G",d[e+1]="",_[e+1]="G"):(o[e+1]=r,c[e+1]=r,d[e+1]=r,_[e+1]=r),e++);return{A0_G0:o.join(""),A0_G1:c.join(""),A1_G0:d.join(""),A1_G1:_.join("")}}resolveAnchors(e,i){return this.hasAnchor&&this._anchorCache?e?i?this._anchorCache.A1_G1:this._anchorCache.A1_G0:i?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}t.RegExpSource=D;class h{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,i){this._items[e].source!==i&&(this._disposeCaches(),this._items[e].setSource(i))}compile(e){if(!this._cached){let i=this._items.map(s=>s.source);this._cached=new p(e,i,this._items.map(s=>s.ruleId))}return this._cached}compileAG(e,i,s){return this._hasAnchors?i?s?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,i,s)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,i,s)),this._anchorCache.A1_G0):s?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,i,s)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,i,s)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,i,s){let r=this._items.map(o=>o.resolveAnchors(i,s));return new p(e,r,this._items.map(o=>o.ruleId))}}t.RegExpSourceList=h;class p{constructor(e,i,s){this.regExps=i,this.rules=s,this.scanner=e.createOnigScanner(i)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const e=[];for(let i=0,s=this.rules.length;i<s;i++)e.push("   - "+this.rules[i]+": "+this.regExps[i]);return e.join(`
`)}findNextMatchSync(e,i,s){const r=this.scanner.findNextMatchSync(e,i,s);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}}t.CompiledRule=p},63:(I,t,y)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeTrieElement=t.ThemeTrieElementRule=t.ColorMap=t.fontStyleToString=t.ParsedThemeRule=t.parseTheme=t.StyleAttributes=t.ScopeStack=t.Theme=void 0;const C=y(807);class E{constructor(h,p,n){this._colorMap=h,this._defaults=p,this._root=n,this._cachedMatchRoot=new C.CachedFn(e=>this._root.match(e))}static createFromRawTheme(h,p){return this.createFromParsedTheme(k(h),p)}static createFromParsedTheme(h,p){return function(n,e){n.sort((_,x)=>{let N=C.strcmp(_.scope,x.scope);return N!==0?N:(N=C.strArrCmp(_.parentScopes,x.parentScopes),N!==0?N:_.index-x.index)});let i=0,s="#000000",r="#ffffff";for(;n.length>=1&&n[0].scope==="";){let _=n.shift();_.fontStyle!==-1&&(i=_.fontStyle),_.foreground!==null&&(s=_.foreground),_.background!==null&&(r=_.background)}let o=new m(e),c=new u(i,o.getId(s),o.getId(r)),d=new l(new S(0,null,-1,0,0),[]);for(let _=0,x=n.length;_<x;_++){let N=n[_];d.insert(0,N.scope,N.parentScopes,N.fontStyle,o.getId(N.foreground),o.getId(N.background))}return new E(o,c,d)}(h,p)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(h){if(h===null)return this._defaults;const p=h.scopeName,n=this._cachedMatchRoot.get(p).find(e=>function(i,s){if(s.length===0)return!0;for(let r=0;r<s.length;r++){let o=s[r],c=!1;if(o===">"){if(r===s.length-1)return!1;o=s[++r],c=!0}for(;i&&!v(i.scopeName,o);){if(c)return!1;i=i.parent}if(!i)return!1;i=i.parent}return!0}(h.parent,e.parentScopes));return n?new u(n.fontStyle,n.foreground,n.background):null}}t.Theme=E;class a{constructor(h,p){this.parent=h,this.scopeName=p}static push(h,p){for(const n of p)h=new a(h,n);return h}static from(...h){let p=null;for(let n=0;n<h.length;n++)p=new a(p,h[n]);return p}push(h){return new a(this,h)}getSegments(){let h=this;const p=[];for(;h;)p.push(h.scopeName),h=h.parent;return p.reverse(),p}toString(){return this.getSegments().join(" ")}extends(h){return this===h||this.parent!==null&&this.parent.extends(h)}getExtensionIfDefined(h){const p=[];let n=this;for(;n&&n!==h;)p.push(n.scopeName),n=n.parent;return n===h?p.reverse():void 0}}function v(D,h){return h===D||D.startsWith(h)&&D[h.length]==="."}t.ScopeStack=a;class u{constructor(h,p,n){this.fontStyle=h,this.foregroundId=p,this.backgroundId=n}}function k(D){if(!D)return[];if(!D.settings||!Array.isArray(D.settings))return[];let h=D.settings,p=[],n=0;for(let e=0,i=h.length;e<i;e++){let s,r=h[e];if(!r.settings)continue;if(typeof r.scope=="string"){let _=r.scope;_=_.replace(/^[,]+/,""),_=_.replace(/[,]+$/,""),s=_.split(",")}else s=Array.isArray(r.scope)?r.scope:[""];let o=-1;if(typeof r.settings.fontStyle=="string"){o=0;let _=r.settings.fontStyle.split(" ");for(let x=0,N=_.length;x<N;x++)switch(_[x]){case"italic":o|=1;break;case"bold":o|=2;break;case"underline":o|=4;break;case"strikethrough":o|=8}}let c=null;typeof r.settings.foreground=="string"&&C.isValidHexColor(r.settings.foreground)&&(c=r.settings.foreground);let d=null;typeof r.settings.background=="string"&&C.isValidHexColor(r.settings.background)&&(d=r.settings.background);for(let _=0,x=s.length;_<x;_++){let N=s[_].trim().split(" "),H=N[N.length-1],K=null;N.length>1&&(K=N.slice(0,N.length-1),K.reverse()),p[n++]=new O(H,K,e,o,c,d)}}return p}t.StyleAttributes=u,t.parseTheme=k;class O{constructor(h,p,n,e,i,s){this.scope=h,this.parentScopes=p,this.index=n,this.fontStyle=e,this.foreground=i,this.background=s}}t.ParsedThemeRule=O,t.fontStyleToString=function(D){if(D===-1)return"not set";let h="";return 1&D&&(h+="italic "),2&D&&(h+="bold "),4&D&&(h+="underline "),8&D&&(h+="strikethrough "),h===""&&(h="none"),h.trim()};class m{constructor(h){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(h)){this._isFrozen=!0;for(let p=0,n=h.length;p<n;p++)this._color2id[h[p]]=p,this._id2color[p]=h[p]}else this._isFrozen=!1}getId(h){if(h===null)return 0;h=h.toUpperCase();let p=this._color2id[h];if(p)return p;if(this._isFrozen)throw new Error(`Missing color in color map - ${h}`);return p=++this._lastColorId,this._color2id[h]=p,this._id2color[p]=h,p}getColorMap(){return this._id2color.slice(0)}}t.ColorMap=m;const B=Object.freeze([]);class S{constructor(h,p,n,e,i){this.scopeDepth=h,this.parentScopes=p||B,this.fontStyle=n,this.foreground=e,this.background=i}clone(){return new S(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(h){let p=[];for(let n=0,e=h.length;n<e;n++)p[n]=h[n].clone();return p}acceptOverwrite(h,p,n,e){this.scopeDepth>h?console.log("how did this happen?"):this.scopeDepth=h,p!==-1&&(this.fontStyle=p),n!==0&&(this.foreground=n),e!==0&&(this.background=e)}}t.ThemeTrieElementRule=S;class l{constructor(h,p=[],n={}){this._mainRule=h,this._children=n,this._rulesWithParentScopes=p}static _cmpBySpecificity(h,p){if(h.scopeDepth!==p.scopeDepth)return p.scopeDepth-h.scopeDepth;let n=0,e=0;for(;h.parentScopes[n]===">"&&n++,p.parentScopes[e]===">"&&e++,!(n>=h.parentScopes.length||e>=p.parentScopes.length);){const i=p.parentScopes[e].length-h.parentScopes[n].length;if(i!==0)return i;n++,e++}return p.parentScopes.length-h.parentScopes.length}match(h){if(h!==""){let n,e,i=h.indexOf(".");if(i===-1?(n=h,e=""):(n=h.substring(0,i),e=h.substring(i+1)),this._children.hasOwnProperty(n))return this._children[n].match(e)}const p=this._rulesWithParentScopes.concat(this._mainRule);return p.sort(l._cmpBySpecificity),p}insert(h,p,n,e,i,s){if(p==="")return void this._doInsertHere(h,n,e,i,s);let r,o,c,d=p.indexOf(".");d===-1?(r=p,o=""):(r=p.substring(0,d),o=p.substring(d+1)),this._children.hasOwnProperty(r)?c=this._children[r]:(c=new l(this._mainRule.clone(),S.cloneArr(this._rulesWithParentScopes)),this._children[r]=c),c.insert(h+1,o,n,e,i,s)}_doInsertHere(h,p,n,e,i){if(p!==null){for(let s=0,r=this._rulesWithParentScopes.length;s<r;s++){let o=this._rulesWithParentScopes[s];if(C.strArrCmp(o.parentScopes,p)===0)return void o.acceptOverwrite(h,n,e,i)}n===-1&&(n=this._mainRule.fontStyle),e===0&&(e=this._mainRule.foreground),i===0&&(i=this._mainRule.background),this._rulesWithParentScopes.push(new S(h,p,n,e,i))}else this._mainRule.acceptOverwrite(h,n,e,i)}}t.ThemeTrieElement=l},807:(I,t)=>{function y(a){return Array.isArray(a)?function(v){let u=[];for(let k=0,O=v.length;k<O;k++)u[k]=y(v[k]);return u}(a):typeof a=="object"?function(v){let u={};for(let k in v)u[k]=y(v[k]);return u}(a):a}Object.defineProperty(t,"__esModule",{value:!0}),t.performanceNow=t.CachedFn=t.escapeRegExpCharacters=t.isValidHexColor=t.strArrCmp=t.strcmp=t.RegexSource=t.basename=t.mergeObjects=t.clone=void 0,t.clone=function(a){return y(a)},t.mergeObjects=function(a,...v){return v.forEach(u=>{for(let k in u)a[k]=u[k]}),a},t.basename=function a(v){const u=~v.lastIndexOf("/")||~v.lastIndexOf("\\");return u===0?v:~u==v.length-1?a(v.substring(0,v.length-1)):v.substr(1+~u)};let C=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function E(a,v){return a<v?-1:a>v?1:0}t.RegexSource=class{static hasCaptures(a){return a!==null&&(C.lastIndex=0,C.test(a))}static replaceCaptures(a,v,u){return a.replace(C,(k,O,m,B)=>{let S=u[parseInt(O||m,10)];if(!S)return k;{let l=v.substring(S.start,S.end);for(;l[0]===".";)l=l.substring(1);switch(B){case"downcase":return l.toLowerCase();case"upcase":return l.toUpperCase();default:return l}}})}},t.strcmp=E,t.strArrCmp=function(a,v){if(a===null&&v===null)return 0;if(!a)return-1;if(!v)return 1;let u=a.length,k=v.length;if(u===k){for(let O=0;O<u;O++){let m=E(a[O],v[O]);if(m!==0)return m}return 0}return u-k},t.isValidHexColor=function(a){return!!(/^#[0-9a-f]{6}$/i.test(a)||/^#[0-9a-f]{8}$/i.test(a)||/^#[0-9a-f]{3}$/i.test(a)||/^#[0-9a-f]{4}$/i.test(a))},t.escapeRegExpCharacters=function(a){return a.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},t.CachedFn=class{constructor(a){this.fn=a,this.cache=new Map}get(a){if(this.cache.has(a))return this.cache.get(a);const v=this.fn(a);return this.cache.set(a,v),v}},t.performanceNow=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()}}},P={};return function I(t){var y=P[t];if(y!==void 0)return y.exports;var C=P[t]={exports:{}};return A[t].call(C.exports,C,C.exports,I),C.exports}(625)})())})(st);var Qe=st.exports;class vt{constructor(f){me(this,"monaco");me(this,"registry");me(this,"tokensProviderCache");this.config=f;const{grammars:A,fetchGrammar:P,theme:I,onigLib:t,monaco:y}=f;this.monaco=y,this.registry=new Qe.Registry({onigLib:t,async loadGrammar(C){if(A[C]==null)return null;const{type:a,grammar:v}=await P(C);return Qe.parseRawGrammar(v,`grammar.${a}`)},getInjections(C){const E=A[C];return E?E.injections:void 0},theme:I}),this.tokensProviderCache=new Bt(this.registry)}injectCSS(){const A=this.registry.getColorMap().map(b.Format.CSS.parseHex);ht.setColorMap(A);const P=lt(A),I=It();I.innerHTML=P}setTheme(f){this.registry.setTheme(f)}async fetchLanguageInfo(f){const[A,P]=await Promise.all([this.getTokensProviderForLanguage(f),this.config.fetchConfiguration(f)]);return{tokensProvider:A,configuration:P}}getTokensProviderForLanguage(f){const A=this.getScopeNameForLanguage(f);if(A==null)return Promise.resolve(null);const P=this.monaco.languages.getEncodedLanguageId(f);return this.tokensProviderCache.createEncodedTokensProvider(A,P)}getScopeNameForLanguage(f){for(const[A,P]of Object.entries(this.config.grammars))if(P.language===f)return A;return null}}class Ue{constructor(f){this.stateStack=f}clone(){return new Ue(this.stateStack)}equals(f){return f instanceof Ue&&(f===this||f.stateStack===this.stateStack)}}class Bt{constructor(f){me(this,"scopeNameToGrammar",new Map);this.registry=f}async createEncodedTokensProvider(f,A){const P=await this.getGrammar(f,A);return{getInitialState(){return new Ue(Qe.INITIAL)},tokenizeEncoded(I,t){const y=P.tokenizeLine2(I,t.stateStack);return{endState:new Ue(y.ruleStack),tokens:y.tokens}},tokenize(I,t){const y=P.tokenizeLine(I,t.stateStack);return{endState:new Ue(y.ruleStack),tokens:y.tokens.map(C=>({startIndex:C.startIndex,scopes:C.scopes.reverse().join(" ")}))}}}}getGrammar(f,A){const P=this.scopeNameToGrammar.get(f);if(P!=null)return P;const I={},t=this.registry.loadGrammarWithConfiguration(f,A,I).then(y=>{if(y)return y;throw Error(`failed to load grammar for ${f}`)});return this.scopeNameToGrammar.set(f,t),t}}function It(){var A;const V=document.querySelector("style.textmate-colors")||document.createElement("style");V.classList.contains("textmate-colors")||V.classList.add("textmate-colors");const f=document.getElementsByClassName("monaco-colors")[0];if(f)(A=f.parentElement)==null||A.insertBefore(V,f.nextSibling);else{let{head:P}=document;P==null&&(P=document.getElementsByTagName("head")[0]),P==null||P.appendChild(V)}return V}function wt(V,f,A){for(const P of V){const{id:I}=P;A.languages.register(P),A.languages.onLanguage(I,async()=>{const{tokensProvider:t,configuration:y}=await f(I);t!=null&&A.languages.setTokensProvider(I,t),y!=null&&A.languages.setLanguageConfiguration(I,y)})}}class Ft{constructor(f,A,P){me(this,"provider");me(this,"fetchGrammar",async f=>{const{path:A}=this.grammars[f],P=`/grammars/${A}`,t=await(await fetch(P)).text();return{type:A.endsWith(".json")?"json":"plist",grammar:t}});me(this,"fetchConfiguration",async f=>{const A=`/configurations/${f}.json`,I=await(await fetch(A)).text();return yt(I)});this.languages=f,this.grammars=A,this.onigurumPath=P}async loadVSCodeOnigurumWASM(){const f=await fetch(this.onigurumPath);return f.headers.get("content-type")==="application/wasm"?f:await f.arrayBuffer()}async register(f,A){const P=await this.loadVSCodeOnigurumWASM();await Ke.loadWASM(P);const I=Promise.resolve({createOnigScanner:Ke.createOnigScanner,createOnigString:Ke.createOnigString});this.provider=new vt({grammars:this.grammars,fetchGrammar:this.fetchGrammar,configurations:this.languages.map(t=>t.id),fetchConfiguration:this.fetchConfiguration,theme:A,onigLib:I,monaco:f}),wt(this.languages,t=>this.provider.fetchLanguageInfo(t),f)}setTheme(f){var A;(A=this.provider)==null||A.setTheme(f)}injectCSS(){var f;(f=this.provider)==null||f.injectCSS()}}const Ge=class Ge extends ut{constructor(){super("colorTheme");me(this,"_grammarLock",!1);me(this,"textmateRegistry");me(this,"state");me(this,"predict");this.state=new rt}getDefaultTheme(A){const P=new Dt;switch(A){case"hc-black":return Xe({...P.getDefaultColor("hcDark")},I=>!I);case"vs":return Xe({...P.getDefaultColor("light")},I=>!I);case"vs-dark":default:return Xe({...P.getDefaultColor("dark")},I=>!I)}}convertToRawTheme(A){var C,E;const P={name:A.name,settings:[]},I=A.tokenColors;if(Array.isArray(I))for(const a of I)a.scope&&a.settings&&P.settings.push({scope:a.scope,settings:{foreground:qe(a.settings.foreground),background:qe(a.settings.background),fontStyle:a.settings.fontStyle}});const t=((C=A.colors)==null?void 0:C["editor.foreground"])||"",y=((E=A.colors)==null?void 0:E["editor.background"])||"";return P.settings.unshift({settings:{foreground:qe(t),background:qe(y)}}),P}applyColorTheme(A){var t;if(this._grammarLock){this.predict=A;return}const P=this.get(A);if(!P)return;const I=dt(P.colors||{});window.requestAnimationFrame(()=>{const y=document.querySelector(`.${Ge.DEFAULT_THEME_CLASS_NAME}`);if(y)y.innerHTML=I;else{const C=document.createElement("style");C.type="text/css",C.className=Ge.DEFAULT_THEME_CLASS_NAME,C.innerHTML=I,document.head.appendChild(C)}}),Je.defineTheme(Ge.DEFAULT_THEME_CLASS_NAME,{inherit:!0,base:P.uiTheme||"vs-dark",colors:pt(P.colors||{}),rules:ft(P.tokenColors)||[]}),Je.setTheme(Ge.DEFAULT_THEME_CLASS_NAME),(t=this.textmateRegistry)==null||t.injectCSS()}add(A){this.dispatch(P=>{kt(A).forEach(I=>{const t={...I};t.colors=Object.assign({},this.getDefaultTheme(I.uiTheme),I.colors),P.data.push(t)})})}update(A,P){this.dispatch(I=>{const t=I.data.find(Ze(typeof A=="object"?A.id:A));t&&(Object.assign(t,typeof A=="object"?A:P==null?void 0:P(t)),t.id===this.getState().current&&this.applyColorTheme(t.id))}),this.getCurrent()===(typeof A=="object"?A.id:A)&&this.applyColorTheme(this.getCurrent())}get(A){return this.getState().data.find(Ze(A))}getCurrent(){return this.getState().current}getAll(){return this.getState().data}getCurrentTheme(){return this.get(this.getCurrent())}setCurrent(A){var I;A!==this.getCurrent()&&(this.emit(Ye.onChange,this.getCurrentTheme(),this.get(A)),mt(Ct,A.toString())),this.dispatch(t=>{t.current=A});const P=this.get(A);(I=this.textmateRegistry)==null||I.setTheme(P?this.convertToRawTheme(P):{name:"unknown",settings:[]}),this.applyColorTheme(A)}getColorThemeMode(){var A;return((A=this.getCurrentTheme())==null?void 0:A.uiTheme)||"vs-dark"}reset(){this.setState(new rt)}async _activeGrammar(A,P){this._grammarLock=!0;try{if(Array.isArray(A)&&P){const I=[],t={};for(let E=0;E<A.length;E++){const{scopeName:a,grammar:v,...u}=A[E];I.push({...u}),t[a]={path:v,language:u.id}}this.textmateRegistry=new Ft(I,t,P);const y=await _t(()=>import("./index-3dac6dbc.js").then(E=>E.m),["assets/index-3dac6dbc.js","assets/index-a77468b2.css"]),C=this.getCurrentTheme();await this.textmateRegistry.register(y,C?this.convertToRawTheme(C):{name:"unknown",settings:[]})}}finally{this._grammarLock=!1,this.predict&&(this.applyColorTheme(this.predict),this.predict=void 0)}}onChange(A){this.subscribe(Ye.onChange,A)}};me(Ge,"DEFAULT_THEME_CLASS_NAME",gt("customize-theme"));let nt=Ge;export{nt as ColorThemeService};
